function debug_alert(a){}function moveToPageLocation(a){if(a!=null&&a!=""){window.location.hash=a}}function confirmLink(c,b,a){if(confirm(c)){return b}else{return a}}function JavaScriptTest(){document.forms[0].JavaScript.value="Yes"}function noenter(){return !(window.event&&(window.event.keyCode==13))}function set_new_window_props(){var b;var c=parseInt(screen.width*0.85);var a=parseInt(screen.height*0.7);b="height="+a+",width="+c+",top=70,left=60,toolbar=yes,menubar=yes,resizable=yes,scrollbars=yes,status=no";return b}function openBrWindow(c,a,b){if(typeof b!="object"){b=set_new_window_props()}newWindow=window.open(c,a,b);if(newWindow){newWindow.focus()}return false}function open_window(b,a,c){var e;var d=navigator.userAgent.indexOf("Safari")>0;if(d){e=window.open("",b,c);if(e!=null){e.close()}}e=window.open(a,b,c);if(window.focus){e.focus()}return false}function open_location(c,a,b){if(a.length){a=a.replace(" ","")}return openBrWindow(c,a,"")}function go_to_url(a){if(a.length){window.location=a;return true}else{return false}}function open_opac(b){var a=document.getElementById("opac");var c=a.value;return openBrWindow(c,b,"")}function open_ncbi(a,b){return openBrWindow(b,a,"")}function submit_quicksearch_go(){var a=document.forms[0].qs_topic.value;if(a.length>0){if(a=="Enter a topic"){return false}else{return true}}else{document.forms[0].qs_topic.value="Enter a topic";return false}}function winsize(){var b,a;if(document.all){b=Math.round(document.body.clientHeight*(0.81));a=Math.round(document.body.clientWidth)}else{b=Math.round(document.height*(0.81));a=Math.round(document.width)}document.GeneralSearch_input_form.winh.value=b;document.GeneralSearch_input_form.winw.value=a}function check_the_input(d,a){var b=true;var e="1234567890, ";for(i=0;i<a;i++){var c=d.charAt(i);if(e.indexOf(c)===-1){b=false;break}}return b}function process_input(f,b){var c=0;var a=0;var d=new String();for(i=0;i<b;i++){var e=f.charAt(i);if(e==" "){if(c==1){c=c+1}}else{if(e==","){if(a==1){a=a+1}}else{if(c==0){c=1}else{if(c==2){c=0;return false}}if(a==0){a=1}else{if(a==3){a=0;return false}}var g=new String(e);d=d.concat(g)}}}return d}function process_page_number(d,b){var a=d.length;var c=document.getElementById("pleaseEnterANumberMsg");if(!check_the_input(d,a)){alert(c.value);return false}d=process_input(d,a);if(d<=0){alert(c.value);return false}return d}function mark_then_navigate(b,a){update_mark_list("add");return go_to_page(b,a,null)}function go_to_page(b,n,l,o,g,d,m,c,e,f,p){var a=b.value;a=process_page_number(a,n);if(a>0){b.value=a;var h=document.forms.summary_records_form.getAttribute("paging_url");if(h){if(invokeAutoSubmit()){window.location=h+a}}else{handle_nav(null,a,l,o,g,d,m,c,e,f,p)}}else{b.select()}return false}function confirm_new_session(a){if(confirm('This will clear all your forms and inputs and start a new session. Click OK to continue.\n\n\nNote: To continue with your current session, click "New Search" link.')){location.href=a+"/new_session"}}function JQcheck_form_inputs(a,b){if(check_form_inputs(a,b)&&jQuery){disableSearchButton();return true}else{return false}}function setValSaveform(d,e,c){var b="#"+d;var f=$(b).val();var a="#"+e;$(a).val(f);saveForm(c)}function disableSearchButton(){if(jQuery){$(".searchRunning").show();$(".searchButton").hide()}}function AFdisableSearchButton(){var a=validateAFNames(true);if(jQuery&&a){$(".searchRunning").show();$(".searchButton").hide()}return a}function checkUncheckByClass(b,a){if(jQuery&&b){var c="."+b;$(c).prop("checked",a);if(typeof QuickOutput!=="undefined"){QuickOutput.pageSelected=$(".SelectPageChk").prop("checked")}}}function check_form_submit(a,b){if(check_form_inputs(a,b)){document.forms[a].submit();return true}else{return false}}function check_form_inputs(a,g){mergeMultiSelects();try{var n=document.forms[a].elements.search_mode.value;var f=document.forms[a].elements.product.value;if(g==null){g=document.forms[a].elements.action.value}if((n=="GeneralSearch"||n=="UA_GeneralSearch"||n=="AdvancedSearch"||n=="CitedReferenceSearch")&&g!="savePreferences"){var r=false;var c=false;if(f=="INSPEC"&&n=="GeneralSearch"){c=parse_INSPEC_special_fields(a,g)}if(!c){r=parse_search_inputs(a);if(!r){return false}}}else{if(n=="CompoundSearch"){var p=document.getElementById("input_invalid_notice");var q=true;for(i=0;i<document.forms[a].elements.length;i++){var h=document.forms[a].elements[i];if((h.type=="text"||h.type=="textarea")&&!(h.name=="formSimilarityMin"||h.name=="formSimilarityMax")){trim_input(h);if(h.value.length>0){q=false;break}}if(h.name=="molecule"){trim_input(h);if(h.value.length>0){q=false;break}}}if(q){if(p!=null){show_client_error("errorMessageDiv",p.value)}return false}}else{if(n=="CitedPatentSearch"&&g!="savePreferences"){var p=document.getElementById("input_invalid_notice");var m=document.getElementById("exp_notice");var q=true;var l="";var o=false;var b=false;for(i=0;i<document.forms[a].elements.length;i++){var h=document.forms[a].elements[i];if($.trim(h.value)=="CX"){l="value(input"+h.id.substr(6,8)+")";o=true;var d=document.getElementById(l);if(d.value.indexOf("*")>=0||d.value.indexOf("?")>=0){b=true}}if(h.type=="text"||h.type=="textarea"){trim_input(h);if(h.value.length>0){q=false}}}if(b&&o){if(m!=null){show_client_error("errorMessageDiv",m.value)}return false}if(q){if(p!=null){show_client_error("errorMessageDiv",p.value)}return false}}else{if(n=="CombineSearches"){if(document.forms[a].elements.combineSets==null){return false}}}}}document.forms[a].action.value=g}catch(h){return true}if(typeof WOKTimespan!=="undefined"){return WOKTimespan.validateDateRange()}return true}function set_edit_form_inputs(d,l,a,b){if(d!=null&&l!=null){if(l=="reExecute"&&a==null){l="search"}if(l=="search"||a==null){a=""}try{var g=document.forms[d].elements.action.value;document.forms[d].action.value=l;var f=document.forms[d].elements.replaceSetId.value;document.forms[d].replaceSetId.value=a;var c=document.forms[d].elements.goToPageLoc.value;document.forms[d].goToPageLoc.value=b}catch(h){return true}}return true}function parse_search_inputs(c){var g=document.forms[c].elements.fieldCount;var f;var q=false;var r=false;var n=0;var m=document.forms[c].elements.search_mode.value;if(m=="AdvancedSearch"){n=1}else{n=g.value}try{for(f=1;f<=n;f++){var b=document.getElementById("value(input"+f+")");if(b!==null){var h=b.type;var p=$(b).attr("placeholder");if(h=="text"||h=="textarea"){trim_input(b);if(!q&&b.value.length!=0&&b.value!=p){q=true}}else{if(h=="select-multiple"){r=true}}}}}catch(l){}var o=document.getElementById("input_invalid_notice").value;var a=document.getElementById("input_invalid_notice_limits").value;var d=o+a;if(!q&&r){show_client_error("errorMessageDiv",o+a)}else{if(!q){show_client_error("errorMessageDiv",d)}}return q}function parse_INSPEC_special_fields(c,e){var m=document.forms[c].elements.fieldCount.value;var f=document.getElementById("search_table");var g;var d=false;for(g=1;g<=m;g++){var n=document.getElementById("searchrow"+g);var p="";var a=document.getElementById("select"+g);var o=a.selectedIndex;var b=a.options[o].id;var q=a.value;if(b.match("double_inputs")){p=parse_INSPEC_numqty_double_inputs(c,g)}else{if(q.match("CH")){parse_INSPEC_chemical_input(c,g,b)}}if(p!=""&&p!=" "){var l=document.getElementById("value(inputX)");var h=l.cloneNode(true);h.id=("value(input"+g+")");h.name=("value(input"+g+")");h.value=p;n.appendChild(h);d=true}}return d}function parse_INSPEC_numqty_double_inputs(b,e){var l="";var g="";var d="";var c=false;var a=false;var h=document.getElementById("value(double_input_1_row"+e+")");trim_input(h);if(h!=null&&h.value!=""){g=h.value;c=true}var f=document.getElementById("value(double_input_2_row"+e+")");trim_input(f);if(f!=null&&f.value!=""){d=f.value;a=true}if(c==true&&a==true){l=g+" "+d}else{if(c==true){l="GTE "+g}else{if(a==true){l="LTE "+d}}}return l}function change_select(a,c){var b=0;if(a!=null){for(i=0;i<a.length;i++){if(a.options[i].value==c){a.options[i].selected=true;b=1;break}}}return b}function parse_INSPEC_chemical_input(c,g,f){var b="";var a=document.getElementById("value(input"+g+")");if(a.value!=""){var e=new Array();e=f.split("_");var d=e[0];if(d=="all"){return}if(!a.value.match("/")){a.value=a.value+"/"+d}}return true}function select_week_button(a){if(!a.length){a=0}document.GeneralSearch_input_form.period[a].checked=true;return true}function select_year_range_button(a){if(!a.length){a=1}document.GeneralSearch_input_form.period[a].checked=true;return true}var CitedReferenceSearch={popup_error_message:function(){if($("#searchErrorMessage #client_error_input_message").text()==getMessageById("citedReferenceSearchTooManySelections")){$("#searchErrorMessage").fadeOut();this.display_too_many_selections_message();return false}},clear_all:function(){this.selectedCitedRecsSize=0;if($("#selectedIdsFastLane_bottom").length!=0){$("#selectedIdsFastLane_bottom").text("")}if($('input[id="selected_cited_recs.bottom"]').length!=0){$('input[id="selected_cited_recs.bottom"]').attr("value",0)}},display_too_many_selections_message:function(){alert(getMessageById("citedReferenceSearchTooManySelections"))},finish_search:function(a){var l=a.checked;if(null==l){l=true}var h=a.pageNumber;if(isNaN(h)||"NaN"==h){h=1}var g=a.pageSize;if(isNaN(g)||"NaN"==g){g=50}var f=(h-1)*g+1;var e=l?$("input:checked[name='"+a.id+"']"):$("input[name='"+a.id+"']").not(":checked");if(null==this.selectedCitedRecsSize){this.selectedCitedRecsSize=0}var c=e.length>0?e.length:0;var m=0;var b=document.getElementById(a.currentPageAlreadySelected);if(b!=null){trim_input(b);m=b.value}if(m==null){m=0}if(this.selectedCitedRecsSize-m+c>a.maxSelectedCitedRecs){this.display_too_many_selections_message();return false}if(!this.too_many_selections(a)){if(invokeAutoSubmit()){var d=submit_summary_form(a.formAction,a.id,a.searchMode)}if(d==true){disableSearchButton()}return d}return false},check_mark_then_navigate:function(e){var d=e.checked;if(null==d){d=true}var a=e.pageNumber;if(isNaN(a)||"NaN"==a){a=1}var g=d?$("input:checked[name='"+e.id+"']"):$("input[name='"+e.id+"']").not(":checked");if(null==this.selectedCitedRecsSize){this.selectedCitedRecsSize=0}var b=g.length>0?g.length:0;var c=0;var f=document.getElementById(e.currentPageAlreadySelected);if(f!=null){trim_input(f);c=f.value}if(c==null){c=0}if(this.selectedCitedRecsSize-c+b>e.maxSelectedCitedRecs){this.display_too_many_selections_message();return false}else{this.selectedCitedRecsSize=this.selectedCitedRecsSize-c+b}if(!this.too_many_selections(e)){mark_then_navigate(e.pageNumber,e.total_pages_num)}return false},select_all:function(f){var e=f.checked;if(null==e){e=true}var c=f.pageNumber;if(isNaN(c)||"NaN"==c){c=1}var b=f.pageSize;if(isNaN(b)||"NaN"==b){b=50}var a=(c-1)*b+1;var h=e?$("input:checked[name='"+f.id+"']"):$("input[name='"+f.id+"']").not(":checked");if(a>f.maxSelectedCitedRecs&&h.length>0){this.display_too_many_selections_message();return false}var g=f.maxSelectedCitedRecs-this.selectedCitedRecsSize;if(isNaN(g)||"NaN"==g){g=f.maxSelectedCitedRecs}if(g<=0){if(g<0){this.display_too_many_selections_message()}return false}var d=f.pagingActionPrefix+f.maxSelectedCitedRecs;handle_nav_no_auto_submit(f.summaryNavForm,f.pageNumber,d)},select_page:function(a){var g=a.checked;if(null==g){g=true}var c=g?$("input[name='"+a.id+"']").not(":checked"):$("input:checked[name='"+a.id+"']");var l=c.length;var f=g?1:-1;var e=l*f+this.selectedCitedRecsSize;if(this.too_many_selections(a,e)){return false}for(var d in c){if(null!=c[d]&&null!=c[d].id){c[d].checked=g;this.update_selected_cited_recs_size(g);$(c[d]).trigger("change")}}var h=0;var b=document.getElementById("currentPageAlreadySelected");if(b!=null){trim_input(b);h=b.value;b.value=h+e}return false},too_many_selections:function(a,b){if(null==b){b=this.selectedCitedRecsSize}if(b>a.maxSelectedCitedRecs){this.display_too_many_selections_message();return true}return false},update_selected_cited_recs_size:function(a){if(null==this.selectedCitedRecsSize){this.selectedCitedRecsSize=0}this.selectedCitedRecsSize+=a?1:-1}};function do_all_named_checkboxes(c,l,b){var f=false;if(c){var d=b;var a;for(a=0;a<c.elements.length;a++){var g=c.elements[a];if(g.tagName=="INPUT"&&g.type=="checkbox"&&g.name==l){g.checked=d;f=true}}if(!b){var h=c.selectedRecs;if(h!=null){c.selectedRecs.value=0}}}return f}function select_named_checkboxes(b){var a=false;if(typeof(b)=="object"){for(i=0;i<b.length;i++){var c=document.getElementById(b[i]);if(c&&c.tagName=="INPUT"&&c.type=="checkbox"){c.checked=true}}}return a}function confirm_message(b){var a=getMessageById(b);return confirm(a)}function check_summary_records_form_inputs(l){var c=document.summary_records_form;var b;var h=false;for(b=0;b<c.elements.length;b++){var g=c.elements[b];if(g.tagName=="INPUT"&&g.type=="checkbox"&&g.name==l&&g.checked){h=true;break}}if(!h){try{var d=c.selectedRecs.value;if(d>0){h=true}}catch(g){}}if(!h){var a=getMessageById("quickOutputSelectAtLeastOneCheckbox");alert(a)}return h}function do_refine(b,e,d,h){if(b==null){return false}if(b!=null&&e!=null&&document.forms[e]!=null){if(check_refine_inputs(b,e)==false){return false}}else{if(check_refine_inputs(b,null)==false){return false}}try{var g=document.forms[b];var m=document.createElement("input");m.setAttribute("type","hidden");m.setAttribute("name","mode");m.setAttribute("value","refine");var a=document.forms[b].elements.mode;if(a==null){document.getElementById(b).appendChild(m)}var c=document.forms[b].elements.exclude;if(c!=null){if(d=="exclude"){c.value="exclude"}else{c.value=""}}disableRefineButton();g.submit();return true}catch(l){return false}}function set_refine_or_exclude(c,e){if(c==null){return false}try{var d=document.forms[c];if(document.forms[c].elements.mode==null){var b=document.createElement("input");b.setAttribute("type","hidden");b.setAttribute("name","mode");b.setAttribute("value","refine");document.getElementById(c).appendChild(b)}var g=document.forms[c].elements.exclude;if(g!=null){if(e=="exclude"){g.value="exclude"}else{g.value=""}}return true}catch(a){return false}}function check_refine_inputs(c,b){if(!$.fn.placeholder.input){var a,g;if(c){a=document.forms[c];var e=$(".placeholder",a).each(function(){this.value="";$(this).removeClass("placeholder")})}if(b){g=document.forms[b];var e=$(".placeholder",a).each(function(){this.value="";$(this).removeClass("placeholder")})}}var f=check_refine_form(c);if(!f){f=check_refine_form(b)}if(!f){var d=document.getElementById("refineSelectAtLeastOneCheckbox").value;alert(d)}else{$(".refinespinner").show();merge_input_forms(c,b);if(!invokeAutoSubmit()){f=false}}return f}function check_refine_form(c){if(c==null){return false}var b;var a=document.getElementById("sws");if(a!=null){trim_input(a);var g=a.value;var d=a.getAttribute("placeholder");if(g.length>0&&g!=d){return true}}var e=document.getElementsByName("refineSelection");if(e!=null){for(b=0;b<e.length;b++){var f=e[b];if(f.checked){return true;break}}}return false}function merge_input_forms(s,r){if(s==null){return}if(r==null){return}var f=document.forms[s];if(f==null){return}var d=document.forms[r];if(d==null){return}var t=d.elements.length;var g;var b=document.createElement("wrappingDiv");b.style.visibility="hidden";f.appendChild(b);for(g=0;g<t;g++){var h=d.elements[g];var c=h.tagName;var m=h.type;var a=h.name;var p=h.value;var q=h.cloneNode(true);b.appendChild(q);if(m=="checkbox"){var o=h.checked;var n=f.elements.length;f.elements[n-1].checked=h.checked}var l=document.createElement("br");b.appendChild(l)}}function disableRefineButton(){if(jQuery){$(".button3Running").show();$(".button3").hide()}}function click_ra_more(){autoSubmitMarkedList();var a=document.getElementById("clickRaMore").value;var b=check_refine_form("refine_form");if(!b){b=check_refine_form("refine_more_form")}if(b){return confirm(a)}return true}function addTextWithExtras(c,d){try{var b=document.getElementById(c);var a=b.cloneNode(true);a.id="RadsNChecksContainer"+d;return a}catch(f){}return null}function criteria_last_child(){if($.browser.msie&&parseInt($.browser.version,10)===8){$(".criteria-last-child").removeClass("criteria-last-child");$(".search-criteria-item:last-child").addClass("criteria-last-child")}}function markFormUpdated(a){if(a==null){return false}document.getElementById("formUpdated").value="true";return false}function promptFormReset(b){if(b==null){return false}var a=document.getElementById("formUpdated").value;if(a==="true"){var c=document.getElementById("fieldChangeMessage").value;if(confirm(c)){setTimeout(function(){$("a#resetForm")[0].click()},750)}}else{setTimeout(function(){$("a#resetForm")[0].click()},750)}return false}function addSearchRow(m,C,s,o){try{var y=document.getElementById("fieldCount");var F=document.getElementById("max_field_count");var B=document.getElementById("max_field_notice").value;if((parseInt(y.value)+1)>(parseInt(F.value))){alert(B);return false}var z=document.getElementById("search_table");var D=z.rows.length;var A=D+1;var u=z.insertRow(A-1);u.id="searchrow"+A;u.className="search-criteria-item";var l=u.insertCell(0);l.className="search-criteria-cell0 ";if(o!=="true"){l.className="search-criteria-cell0 nodisplay"}var b=document.getElementById("bool_default");var Q=b.cloneNode(true);var T="value(bool_"+(A-1)+"_"+(A)+")";Q.name=T;Q.id=T;Q.value="AND";Q.className="j-custom-select select-criteria2";l.appendChild(Q);var L=document.getElementById(s+"_placeholder");var K=document.getElementById(s+"_fieldText");var G=document.getElementById("addSearchRow_default");var h=u.insertCell(1);h.vAlign="top";h.className="search-criteria-cell1";var q=document.createElement("div");q.id="container(input"+A+")";q.className="search-criteria-input-wr";var R=document.getElementById("text_field_default");var x=R.cloneNode(true);x.name="value(input"+A+")";x.id="value(input"+A+")";x.value="";x.placeholder=L.innerHTML;var U=document.getElementById("text_field_default_i");var O=U.cloneNode(true);O.id="clearIcon"+A;q.appendChild(x);q.appendChild(O);if(!$.fn.placeholder.input){$(x).attr("placeholder",L.innerHTML);$(x).placeholderDirectly()}if(C!=null&&C.length>0){var c=addTextWithExtras(C,A)}h.appendChild(q);if(c!=null){h.appendChild(c)}if(K!=null){var H=K.cloneNode(true);H.id="fieldText"+A;h.appendChild(H)}if(G!=null){var E=G.cloneNode(true);E.id="addSearchRow"+A;h.appendChild(E)}var g=u.insertCell(2);g.className="search-criteria-cell2";var N=document.getElementById("field_select_default");var r="select"+A;var I=N.cloneNode(true);I.id=r;I.name="value("+r+")";I.className="j-custom-select select-criteria2";g.appendChild(I);var W=s+"_searchAidText";var a="searchAidText"+A;var M=document.getElementById(W);if(M!=null){var V=M.cloneNode(true);V.id=a;g.appendChild(V)}var t=document.getElementById(r);t.name="value("+r+")";var f=u.insertCell(3);f.className="search-criteria-cell3";var P=document.getElementById("searchCell1");var n=P.cloneNode(true);n.id="searchCell"+A;f.appendChild(n);var d=u.insertCell(4);var p=document.getElementById("value(hidInput1)");var w,v;v=p.cloneNode(true);v.name="value(hidInput"+A+")";v.id="value(hidInput"+A+")";d.appendChild(v);if(o==="true"){$("[id='"+T+"']").select2({dropdownAutoWidth:true,theme:"medium",minimumResultsForSearch:8})}$("[id='"+r+"']").select2({dropdownAutoWidth:true,theme:"medium",minimumResultsForSearch:8});$("[id='clearIcon"+A+"']").click(function(){if($(this)){var e=document.getElementById("value(input"+A+")")}e.value="";$(this).parent().find("input[type='text'][title]").attr("value",$(this).parent().find("input[type='text'][title]").attr("title"))});var J=$("[id='"+a+"']").find("a").attr("href");if(J!=null){J=J.replace(/SA_INPUT_NUM/,A);$("[id='"+a+"']").find("a").attr("href",J)}y.value=parseInt(y.value)+1}catch(S){}return null}function searchFieldChanged(o,g,d){try{var n=(o.id).substring(6);var a=document.getElementById("value(input"+n+")");var p=o.selectedIndex;var b=o.options[p].id;var c=o.value;var h="";if(b==c+"_search_limit"){h=c+"Drop";swapSearchElements(n,c,h,null)}else{if(b.match("double_inputs")){h="double_input";swapSearchElements(n,c,h,null)}else{if(b.match("radio_group")){h=c+"Radios";swapSearchElements(n,c,h,null)}else{if(b.match("checkbox_group")){h=c+"Checks";swapSearchElements(n,c,h,null)}else{if(a!=null){if((a.type=="select-multiple")||(a.type=="select-one")){h="text_field_default";swapSearchElements(n,c,h,null)}else{var l=document.getElementById(c+"_placeholder");a.placeholder=l.innerHTML;if(!$.fn.placeholder.input){if(isQualified4AddPlaceHolder(a)){clearPlaceholderDirectly(a);$(a).attr("placeholder",l.innerHTML);$(a).trigger("blur.placeholder")}}}}else{h="text_field_default";swapSearchElements(n,c,h,null)}}}}}if((!h.match("Checks"))&&(!h.match("Radios"))){var f=document.getElementById("RadsNChecksContainer"+n);if(f!=null){f.innerHTML=""}}swapFieldText(c,n);swapSearchAidText(c,n);defineHiddenInput(n,g,d)}catch(m){}}function swapFieldText(d,c){var a=document.getElementById(d+"_fieldText");var b=document.getElementById("fieldText"+c);b.innerHTML=a.innerHTML}function swapSearchAidText(c,b){var e="searchAidText"+b;var a=document.getElementById(c+"_searchAidText");var d=document.getElementById(e);d.innerHTML=a.innerHTML;var f=$("[id='"+e+"']").find("a").attr("href");if(f!=null){f=f.replace(/SA_INPUT_NUM/,b);$("[id='"+e+"']").find("a").attr("href",f)}}function swapSearchElements(g,a,e,b){if(e.match("double_input")){swapWithDoubleInputs(g,e,"","",a);return false}if((e.match("Radios"))||(e.match("Checks"))){addRadsNChecksGroup(g,e,"","");e="text_field_default"}var h=document.getElementById(e);var c=h.cloneNode(true);c.name="value(input"+g+")";c.id="value(input"+g+")";if((b==null)&&(e.match(a+"Drop"))){c.selectedIndex=0}else{if(b!=null){selectMultiSelects(c,b)}}var m=document.getElementById("container(input"+g+")");m.innerHTML="";if(e==="text_field_default"){m.className="search-criteria-input-wr";var l=document.getElementById(a+"_placeholder");c.placeholder=l.innerHTML}else{m.className=""}m.appendChild(c);$(c).css("width","580px");$(c).select2({dropdownAutoWidth:false,minimumResultsForSearch:8});var f=$("#searchrow"+g+" select").attr("size");if(f<5){$("#searchrow"+g+" select").height(26+(f-1)*20)}if(e==="text_field_default"){if(!$.fn.placeholder.input){$(c).attr("placeholder",$("#"+a+"_placeholder").html());$(c).placeholderDirectly()}}if(e==="text_field_default"){var n=document.getElementById("text_field_default_i");var d=n.cloneNode(true);d.id="clearIcon"+g;m.appendChild(d);$("[id='clearIcon"+g+"']").click(function(){if($(this)){$(this).parent().find("input[type='text']").attr("value","")}$(this).parent().find("input[type='text'][title]").attr("value",$(this).parent().find("input[type='text'][title]").attr("title"))})}return true}function swapWithDoubleInputs(l,v,m,g,w){var b=document.getElementById(v+"_1");var p=b.cloneNode(true);p.name="value("+v+"_1_row"+l+")";p.id="value("+v+"_1_row"+l+")";p.className="search-criteria-input";p.value=m;var d=document.getElementById("text_field_default_i");var r=d.cloneNode(true);r.id="double1clearIcon"+l;var q=d.cloneNode(true);q.id="double2clearIcon"+l;var f=document.getElementById("to_el");var t=f.cloneNode(true);t.id="to_el"+l;var a=document.getElementById(v+"_2");var o=a.cloneNode(true);o.name="value("+v+"_2_row"+l+")";o.id="value("+v+"_2_row"+l+")";o.className="search-criteria-input";o.value=g;var e=document.getElementById(w+"_placeholder");if(e!=null){p.placeholder=e.innerHTML;if(!$.fn.placeholder.input){$(p).attr("placeholder",e.innerHTML)}}e=document.getElementById(w+"_placeholder2");if(e!=null){o.placeholder=e.innerHTML;if(!$.fn.placeholder.input){$(o).attr("placeholder",e.innerHTML)}}var u=document.getElementById("container(input"+l+")");u.innerHTML="";u.className="";var s=u.cloneNode(true);s.id=w+"_container1_row"+l;if(l==1){s.className="search-criteria-input-wr search-criteria-input-double-1 first-row"}else{s.className="search-criteria-input-wr search-criteria-input-double-1"}s.appendChild(p);s.appendChild(r);var c=u.cloneNode(true);c.id=w+"_container2_row"+l;if(l==1){c.className="search-criteria-input-wr search-criteria-input-double-2 first-row"}else{c.className="search-criteria-input-wr search-criteria-input-double-2"}c.appendChild(o);c.appendChild(q);if(!$.fn.placeholder.input){$(p).placeholderDirectly();$(o).placeholderDirectly()}u.appendChild(s);u.appendChild(t);u.appendChild(c);var n=document.getElementById("double1clearIcon"+l);var h=document.getElementById("double2clearIcon"+l);$(n).attr("tabindex",0);$(h).attr("tabindex",0);n.onclick=function(){if($(this)){var x=document.getElementById("value(double_input_1_row"+l+")")}x.value="";$(this).parent().find("input[type='text'][title]").attr("value",$(this).parent().find("input[type='text'][title]").attr("title"))};h.onclick=function(){if($(this)){var x=document.getElementById("value(double_input_2_row"+l+")")}x.value="";$(this).parent().find("input[type='text'][title]").attr("value",$(this).parent().find("input[type='text'][title]").attr("title"))};$(".icon-clear, .icon-clearnew").keypress(function(x){if(x.which==13){x.preventDefault();$(this).click()}})}function addRadsNChecksGroup(d,g,b,a){var c=document.getElementById(g);var e=c.cloneNode(true);e.id=g+d;var f=document.getElementById("RadsNChecksContainer"+d);f.innerHTML="";f.innerHTML=e.innerHTML}function toggle_limit_settings(a){try{if(a=="show"){document.getElementById("showLimits").style.display="block";document.getElementById("currentSettings").style.display="none";document.getElementById("hideLimitsLabel").style.display="block";document.getElementById("changeLimitsLabel").style.display="none";document.getElementById("limitStatus").value="expanded"}else{document.getElementById("showLimits").style.display="none";document.getElementById("currentSettings").style.display="block";document.getElementById("hideLimitsLabel").style.display="none";document.getElementById("changeLimitsLabel").style.display="block";document.getElementById("limitStatus").value="collapsed"}}catch(b){}}function more_hide(a){el=document.getElementById(a);if(el.style.display=="none"){el.style.display="";el=document.getElementById("more"+a);el.innerHTML="[hide]"}else{el.style.display="none";el=document.getElementById("more"+a);el.innerHTML="[more]"}}function toggleRefineResultsPanel(g,m,p,f,a,c,h,o){var n="refine_panel";var e="summary_left_td";var l=document.getElementById(n);var b=document.getElementById(e);var d=document.getElementById(n+"_img");if(l.style.display=="none"){d.src=g;d.alt=a;d.title=h;l.style.display="";if(b&&p!=null){b.className=p}ra_showRefinePanel(n)}else{d.src=m;d.alt=c;d.title=o;l.style.display="none";if(b&&f!=null){b.className=f}ra_hideRefinePanel(n)}}function check_all(b){if(typeof b!="object"){return false}var a=b.length;if(typeof a=="undefined"){b.checked=true;return false}for(i=0;i<a;i++){b[i].checked=true}return false}function list_selected_checks(c){if(typeof c!="object"){return false}var a=c.length;var b=new Array();if(typeof a=="undefined"){a=1}for(i=0;i<a;i++){if(c[i].checked==true){b.push(c[i].value)}}return b}function toggleDAISCheckboxInputs(b){var a=document.getElementsByName("selectedId");if(document.getElementById(b).checked==1){for(i=0;i<a.length;i++){a[i].checked=true}}else{for(i=0;i<a.length;i++){a[i].checked=false}}}function verifyDAISRecordCount(currentRecordCount,elemId){var authorUTCountElement=document.getElementById("AuthorUTCount");var existingRecordCount=authorUTCountElement.value;if(existingRecordCount.length==0){existingRecordCount=0}var selectedCheckBox=document.getElementById(elemId);var noOfSelectedUTs=0;if(selectedCheckBox.checked){noOfSelectedUTs=eval(existingRecordCount)+currentRecordCount}else{noOfSelectedUTs=eval(existingRecordCount)-currentRecordCount}if(noOfSelectedUTs<0){noOfSelectedUTs=0}authorUTCountElement.value=noOfSelectedUTs}function submit_form(a){document.forms.summary_records_form.submit();return true}function submit_corrections_form(b,a){var b=document.forms.correction_form;b.setAttribute("target","DataCorrectionForm");window.open("","DataCorrectionForm","");b.submit();return true}function submitFormWithoutInput(b){var a=b.ownerDocument.createElement("input");a.style.display="none";a.type="submit";b.appendChild(a).click();b.removeChild(a)}function logg(b){if(typeof console!=="undefined"&&typeof console.log!=="undefined"){var a=window.location.port;if(a!==""&&a!=="80"&&a!="443"){console.log(b)}}}var Summary={searchModeName:"search_mode",submitForm:function(q,e,n,b,a,o){if(typeof jQuery==="undefined"||typeof o==="undefined"||jQuery.isEmptyObject(o)){return submit_summary_form(e,n,b,a)}var g=true;if(n&&n.length>0){g=check_summary_records_form_inputs(n)}if(g&&a){g=invokeAutoSubmit()}if(!g){return g}var h=$.Event(q);h.preventDefault();h.stopPropagation();var l=$('form[name="summary_records_form"]');var f=$(document.createElement("form")).css("display","none").attr("action",e).attr("method","POST");if(typeof b!=="undefined"&&b.length>0){$(document.createElement("input")).attr("type","hidden").attr("name",Summary.searchModeName).val(b).appendTo(f)}for(var c in o){var t=o[c];var m=l.find('[name="'+c+'"]');if(m.length&&!t){m=[m[0]]}for(var r=0;r<m.length;r++){var u=m[r];var d=u.tagName;if(d==="INPUT"){$(u.cloneNode()).appendTo(f)}else{if(d==="SELECT"){var s=u.find("option:checked");if(s.length){var p=s.map(function(){return this.value}).get().join(";");$(document.createElement("input")).attr("name",c).attr("type","hidden").val(p).appendTo(f)}}}}}f.appendTo("body").submit()}};function submit_summary_form(e,b,g,l){var h=true;if(b&&b.length>0){h=check_summary_records_form_inputs(b)}if(h==true&&l){h=invokeAutoSubmit()}if(h==true){var c=document.forms.summary_records_form;if(g&&g.length>0){var f=c.elements.search_mode;var a=Object.prototype.toString.call(f);if(a==="[object Array]"||a==="[object NodeList]"){for(var d=0;d<f.length;++d){f[d].value=g}}else{f.value=g}}c.action=e}if(h==true){if(h==true){mergeMultiSelects()}}return h}function get_url_components(d){var b=d.elements.qid;if(b==null){b=d.elements.parentQid}var g=b.value;var a=d.SID.value;var e=d.product.value;var f=d.search_mode.value;var c="qid="+g+"&SID="+a+"&product="+e+"&search_mode="+f;return c}function submit_go_to_page(b,m,h,n,g,d,l,c,e,f){var a=b.value;a=process_page_number(a,m);if(a>0){b.value=a;submit_handle_nav(null,a,h,n,g,d,l,c,e,f)}else{b.select()}return false}function submit_handle_nav(e,p,l,g,h,c,m,b,d,n){mergeMultiSelects();var f=document.forms.summary_records_form;if(e){var a=e.elements.page;a.value=p}document.forms.summary_records_form.elements.page.value=p;if(l&&l.length>0){document.forms.summary_records_form.setAttribute("action",l)}else{document.forms.summary_records_form.elements.redirect_url.value=document.forms.summary_records_form.getAttribute("paging_url")+p}if(g!=null){var o=g+p;if(c!=null){o+="&action="+c;if(m!=null){o+="&sortBy="+m}}if(d!=null){o+="&action="+d;if(n!=null){o+="&pageSize="+n}if(b!=null){o+="&showFirstPage="+b;document.forms.summary_records_form.elements.showFirstPage.value="1"}}document.forms.summary_records_form.submit();return false}else{document.forms.summary_records_form.submit();return false}}function handle_nav(f,c,l,n,s,b,u,q,p,m,e){mergeMultiSelects();var d=document.forms.summary_records_form;if(f){var g=f.elements.page;g.value=c}var h=d.elements.page;if(h){h.value=c}else{var r=document.createElement("input");r.setAttribute("type","hidden");r.setAttribute("name","page");r.setAttribute("value",c);document.getElementById("summary_records_form").appendChild(r)}if(l&&l.length>0){d.setAttribute("action",l)}else{var t=d.elements.redirect_url;if(t){t.value=d.getAttribute("paging_url")+c}else{var o=document.createElement("input");o.setAttribute("type","hidden");o.setAttribute("name","redirect_url");o.setAttribute("value",document.forms.summary_records_form.getAttribute("paging_url")?document.forms.summary_records_form.getAttribute("paging_url")+c:c);document.getElementById("summary_records_form").appendChild(o)}}if(n!=null){var a=n+c;if(b!=null){a+="&action="+b;if(u!=null){a+="&sortBy="+u}}if(p!=null){a+="&action="+p;if(m!=null){a+="&pageSize="+m}if(q!=null){a+="&showFirstPage="+q;d.elements.showFirstPage.value="1"}}if(e||invokeAutoSubmit()){window.location=a}return false}else{if(d.count_new_items_marked){if(d.count_new_items_marked==0){disable_auto_submit()}}else{disable_auto_submit()}d.submit();return false}}function handle_nav_no_auto_submit(d,m,g,e,f,b,h,a,c,l){return handle_nav(d,m,g,e,f,b,h,a,c,l,true)}function handle_sort(h,c,b,g,f,e,d){if(b!=null){console.log("selectedIndex :",e);var a=b+g;if(f!=null){a+="&action="+f;if(e!=null){a+="&sortBy="+e;if(d!=null){a+="&showFirstPage="+d}}}if(h!=null){}if(invokeAutoSubmit()){window.location=a}return false}else{if(h!=null){h.submit()}else{}}return false}function do_RR_action(b){var d=document.forms.summary_records_form;var c="Related.do?";var a=c+b;d.action=a;window.location=a;return false}function do_RAMore_sort_action(c,d){var b=document.forms.refine_more_form;var e=b.elements.more_sort_order;if(c.value=="alpha"){e.value="alpha"}else{e.value="default"}var f="RAMore.do?";var a=f+d;window.location=a+"&more_sort_order="+c.value;return true}function update_signin_and_quick_output(d,a,b){update_quick_output(d);var c=document.forms.summary_records_form;if(c==null){c=document.forms.full_record_form;c.elements.next_mode.value=c.elements.mode.value;c.elements.mode.value="saveDataAndSignIn";if(b!=null){a+="&rurl="+b}c.elements.redirect_url.value=a}else{var e=c.elements.mode.value;c.elements.next_mode.value=e;c.elements.mode.value="saveDataAndSignIn";if(b!=null){a+="&rurl="+b}c.elements.redirect_url.value=a;c=document.forms.output_form;if(c!=null){c.elements.next_mode.value=e;c.elements.mode.value="saveDataAndSignIn";c.elements.redirect_url.value=a}else{}}}function update_quick_output(n){var c=document.forms.summary_records_form;var p=document.forms.output_form;var b=new Array();var d=document.getElementById("dont_populate_summary_records_form");if(c!=null){if(c.marked_list_candidates!=null){c.mode.value="outputService";p.mode.value="outputService";var f=new Array();try{if(c.marked_list_candidates.type=="checkbox"){var a=c.marked_list_candidates.value;if(c.marked_list_candidates.checked==true){b.push(a)}f.push(a)}else{for(var g=0;g<c.marked_list_candidates.length;g++){var a=c.marked_list_candidates[g].value;if(c.marked_list_candidates[g].checked==true){b.push(a)}f.push(a)}}if(p.record_select_type[1].checked==true){b=f}}catch(m){}var h="";try{if(p.qo_fields.type=="hidden"){var o=document.forms.output_form.elements["abstract"].checked;if(o==true){h="BibAbs"}else{h="Bib"}}else{if(p.qo_fields[0].checked==true){var o=document.forms.output_form.elements["abstract"].checked;if(o==true){h="BibAbs"}else{h="Bib"}}else{if(p.qo_fields[1].checked==true){if(p.citedref!=null&&p.citedref.checked==true){h="Full"}else{h="FullNoCitRef"}}}}}catch(m){}document.forms.output_form.elements.selectedIds.value=b.join(";");document.forms.output_form.elements.format.value=n;document.forms.output_form.elements.fields.value=h;if(d==null){document.forms.summary_records_form.elements.selectedIds.value=b.join(";");document.forms.summary_records_form.elements.format.value=n;document.forms.summary_records_form.elements.fields.value=h;for(var g=0;g<p.record_select_type.length;g++){if(p.record_select_type[g].checked){document.forms.summary_records_form.elements.record_select_type.value=p.record_select_type[g].value}}try{document.forms.summary_records_form.elements.mark_to.value=document.forms.output_form.elements.mark_to.value;document.forms.summary_records_form.elements.mark_from.value=document.forms.output_form.elements.mark_from.value}catch(m){}}}}else{var l=document.forms.full_record_form;var h="";if(l.qo_fields[0].checked==true){var o=document.forms.full_record_form.elements["abstract"].checked;if(o==true){h="BibAbs"}else{h="Bib"}}else{if(l.qo_fields[1].checked==true){if(l.citedref!=null&&l.citedref.checked==true){h="Full"}else{h="FullNoCitRef"}}}document.forms.full_record_form.elements.format.value=n;document.forms.full_record_form.elements.fields.value=h}}function disable_auto_submit(){if(false){var a=document.forms.mark_records_form;if(a){a.setAttribute("url",null)}return true}return disableAutoSubmit()}function auto_submit_markedlist(b){var a=document.forms.summary_records_form;var d=0;if(a){mark_selected_records_onpage("add");if(b&&b.length>0){var c=a.elements.redirect_url;if(c!=null){c.value=b}}else{d=a.count_new_items_marked.value;if(d>0){postAsyncForm("summary_records_form","auto_submit_url")}}}disable_auto_submit();return false}function auto_submit_checkboxes(b){var a=document.forms.summary_records_form;if(a){postAsyncCheckboxForm("summary_records_form","auto_submit_url")}return false}function update_mark_list(g){var c=document.forms.summary_records_form;var h=null;if(c!=null){h=c.mark_id}var l=document.forms.output_form;var b=new Array();if(c!=null){if(h!=null&&(h.value=="RXN"||h.value=="CPD")){var e=0;if(g=="add_page"){for(var d=0;d<c.marked_list_candidates.length;d++){c.marked_list_candidates[d].checked=true}g="add"}for(var d=0;d<c.marked_list_candidates.length;d++){if(c.marked_list_candidates[d].checked==true){var a=c.marked_list_candidates[d].value;b.push(a)}}c.selectedIds.value=b.join(";");e=b.length;c.mode.value="addToMark";c.count_new_items_marked.value=e}else{if(c.marked_list_candidates!=null){var e=0;if(g=="add_page"){for(var d=0;d<c.marked_list_candidates.length;d++){c.marked_list_candidates[d].checked=true}g="add"}if(l.record_select_type[0].checked==true){mark_selected_records_onpage(g);return}else{if(l.record_select_type[1].checked==true){for(var d=0;d<c.marked_list_candidates.length;d++){var a=c.marked_list_candidates[d].value;b.push(a)}l.selectedIds.value=b.join(";");c.selectedIds.value=b.join(";");e=b.length}else{if(l.record_select_type[2].checked==true){c.mark_to.value=l.mark_to.value;c.mark_from.value=l.mark_from.value;e=c.mark_to.value-c.mark_from.value+1}}}if(g=="add"){l.mode.value="addToMark";c.mode.value="addToMark"}l.count_new_items_marked.value=e;c.count_new_items_marked.value=e;for(var d=1;d<l.record_select_type.length;d++){if(l.record_select_type[d].checked){c.record_select_type.value=l.record_select_type[d].value}}}}}else{var f=document.forms.full_record_form;if(g=="add"){document.forms.full_record_form.elements.mode.value="addToMark";document.forms.full_record_form.elements.count_new_items_marked.value="1"}}}function get_named_inputs(d){var b=new Array();var a=document.forms.summary_records_form;if(a!=null&&a.elements[d]!=null){var c=a.elements[d].type;if(c=="hidden"||c=="checkbox"){b[0]=a.elements[d]}else{b=a.elements[d]}}return b}function get_markedlist_checkboxes(){var b=new Array();var a=document.forms.summary_records_form;if(a!=null&&a.marked_list_candidates!=null){if(a.marked_list_candidates.type=="checkbox"){b[0]=a.marked_list_candidates}else{b=a.marked_list_candidates}}return b}function update_markedlist_indicators(g){if(!g){return false}var c=null;var p=g.getAttribute("records_form_name");if(p&&p.length>0){c=document.forms[p]}else{c=document.forms.summary_records_form;if(!c){c=document.forms.full_record_form}}var f=new Array();if(c){var m=c.elements.mark_id;if(m){g.elements.mark_id.value=m.value;var l=get_named_inputs("ml_indicator_candidates");if(l.length>0){for(var e=0;e<l.length;++e){f.push(l[e].value)}}else{var o=null;var b=g.elements.startRec;if(b){o=b.value}if(o==null){o=1}var h=get_markedlist_checkboxes();if(h.length>0){var n,a;for(var e=0;e<h.length;++e,++o){a="ml_indicator_"+o;n=document.getElementById(a);if(n==null||n.innerHTML.length==0){f.push(h[e].value);f.push(o)}}}else{var d=c.elements.selectedIds;if(d){f.push(d.value);f.push(o)}}}g.elements.candidates.value=f.join(";")}}return(f.length>0)}function mark_selected_records_onpage(h){var a=document.forms.summary_records_form;var b=document.forms.output_form;var d=new Array();var g=null;if(a!=null){g=a.mark_id}if(a!=null&&g!=null&&(g.value=="RXN"||g.value=="CPD")){b=a}if(a!=null){if(h=="add"){b.mode.value="addToMark";a.mode.value="addToMark"}if(a.marked_list_candidates!=null){try{if(a.marked_list_candidates.type=="checkbox"){var l=a.marked_list_candidates.value;if(a.marked_list_candidates.checked==true){d.push(l)}}else{for(var c=0;c<a.marked_list_candidates.length;c++){var l=a.marked_list_candidates[c].value;if(a.marked_list_candidates[c].checked==true){d.push(l)}}}}catch(f){}try{b.selectedIds.value=d.join(";");a.selectedIds.value=d.join(";");if(g!=null&&g.value!="RXN"&&g.value!="CPD"){a.record_select_type.value=b.record_select_type[0].value}b.count_new_items_marked.value=d.length;a.count_new_items_marked.value=d.length}catch(f){}}}}function check_qo_input(){if(!check_output_range()){var a=document.forms.output_form;return false}return true}function check_ml_input(){if(!check_output_range("marked_list")){var a=document.forms.output_form;return false}return true}var MARKED_LIST_MAX_RECORDS=50000;var QUICK_OUTPUT_MAX_RECORDS=500;var FAST_SAVE_MAX_RECORDS=5000;var QUICK_OUTPUT_HIGHEST_RECORDS=100000;var CURRENT_NUM_MARKED_LIST_RECORDS=0;var FINAL_DISPLAY_RESULTS_COUNT=0;var EIDS_MAX_ORDER_RECORDS=35;function check_output_range(o){var d=document.forms.summary_records_form;if(d!=null&&d.marked_list_candidates==null&&d.elements.service_mode.value!="CitedRefList-outputService"){var h=getMessageById("quickOutputNotAvailable");alert(h);return false}var q=document.forms.output_form.elements.markFrom.value;var g=document.forms.output_form.elements.markTo.value;q=(q).replace(/^\s*|\s*$/g,"");g=(g).replace(/^\s*|\s*$/g,"");if(q==""||g==""){var n=getMessageById("quickOutputNullInARange");alert(n);return false}if(!isPosInteger(q)||!isPosInteger(g)){var c=getMessageById("range_specialchar_error");alert(c);return false}if((g-q)<0){var b=getMessageById("range_notsequential_error");alert(b);return false}var m;var l=document.getElementById("trueFinalResultCount");if(l==null){l=document.getElementById("hitCount.top")}if(l!=null){m=l.innerHTML.toString();if(null==m||""===m){m=l.value}}if(m==null){m=CURRENT_NUM_MARKED_LIST_RECORDS}if(m!=null){if(m!=CURRENT_NUM_MARKED_LIST_RECORDS){m=m.replace(",","")}m=parseInt(m);var f=getMessageById("range_notinset_error");if((g==0)||(q==0)||(q>m)){alert(f);return false}}var e;var a=getMessageById("qo_range_morethan_highestrec_error");var r;var p=QUICK_OUTPUT_HIGHEST_RECORDS;if(o=="marked_list"){e=getMessageById("ml_range_morethan_maxrec_error");r=MARKED_LIST_MAX_RECORDS}else{e=getMessageById("qo_range_morethan_maxrec_error");r=QUICK_OUTPUT_MAX_RECORDS}if((g-q+1)>r){alert(e);return false}if((parseInt(g))>parseInt(p)){alert(a);return false}return true}function isPosInteger(b){b=b.toString();if(isNaN(b)){return false}for(var a=0;a<b.length;a++){var c=b.charAt(a);if(c<"0"||c>"9"){return false}}return true}function set_output_range_option(){var a=document.getElementById("record_select_type_range");a.checked=true;return true}function open_cwc_location(d,b){var c=parseInt(screen.width*0.85);var a=parseInt(screen.height*0.7);winprops="height="+a+",width="+c+",top=70,left=60,directories=yes,location=yes,menubar=yes,resizable=yes,scrollbars=yes,status=yes,toolbar=yes";newwindow=window.open(d,b,winprops);if(window.focus){newwindow.focus()}return false}function handle_nav_final_counts_MovedToAsyncJS(d,f){var c=document.getElementById("hitCount.top");var a=document.getElementById("pageCount.top");var b=document.getElementById("hitCount.bottom");var e=document.getElementById("pageCount.bottom");if(c.innerHTML.match(/\.\.\./)){c.innerHTML="";c.innerHTML=d}if(a.innerHTML.match(/\.\.\./)){a.innerHTML="";a.innerHTML=f}if(b.innerHTML.match(/\.\.\./)){b.innerHTML="";b.innerHTML=d}if(e.innerHTML.match(/\.\.\./)){e.innerHTML="";e.innerHTML=f}}function updateExtendedOption(a,c,b){if(document.getElementById(b).value==a){document.getElementById(b).value=c}else{document.getElementById(b).value=a}}function initMultiSelectDelimiter(){var a="### ";return a}function initMultiSelectDelimiterEncoded(){var a="&amp;#35;&amp;#35;&amp;#35; ";return a}function selectMultiSelects(a,f){f=f.replace(/&amp;#45;/g,"-");f=f.replace(/&amp;#59;/g,";");f=f.replace(/&amp;#46;/g,".");f=f.replace(/&amp;#44;/g,",");f=f.replace(/###/g,"&amp;#35;&amp;#35;&amp;#35;");var b=initMultiSelectDelimiterEncoded();var e=0;if(f.length>0){a.options[0].selected=false;var d=f.split(b);for(i=0;i<a.length;i++){var c=false;for(j=0;j<d.length;j++){if(a.options[i].value==d[j]){e=1;c=true}}if(c==true){a.options[i].selected=true}else{a.options[i].selected=false}}}if(e==0){a.options[0].selected=true;for(i=1;i<a.length;i++){a.options[i].selected=false}}}function trim_input(a){if(a!=null){a.value=a.value.replace(/^\s+|\s+$/g,"")}}function hideClientError(a){if(typeof a==="undefined"){a="errorMessageDiv"}var b=document.getElementById(a);if(b){document.getElementById("client_error_input_message").innerHTML="";if(b.style.display==="block"){b.style.display="none"}}}function show_client_error(c,d){var b=document.getElementById(c);if(b!=null){var a=document.getElementById("client_error_input_message");if(b.style.display=="none"){a.innerHTML=d;b.style.display="block"}else{a.innerHTML=d}}else{alert(d)}return false}function mergeMultiSelects(){var b=initMultiSelectDelimiter();for(i=0;i<document.forms.length;i++){var d=document.forms[i];for(j=0;j<d.elements.length;j++){if(d.elements[j].type=="select-multiple"){var a=d.elements[j];var c="";for(k=0;k<a.options.length;k++){if(a.options[k].selected==true){if(c.length>0){c=c+b+a.options[k].value}else{c=a.options[k].value}a.options[k].selected=false}}a.options[0].value=c;a.options[0].selected=true}}}}function _trim(b){if(b==null){return b}var a=b.replace(/^\s+|\s+$/g,"");return a}function hide_show(b,a){if(document.getElementById(b)){document.getElementById(b).style.display=a}}function is_enter_key(b){var a=(b.charCode)?b.charCode:((b.which)?b.which:b.keyCode);return(a==13||a==3)}function submit_on_enter(d,c){if(!c){c=event}var a=c.which;if(!a){a=c.keyCode}var b=navigator.userAgent.indexOf("Safari")>0;if(b&&a==3){a=13}if(a==13){disable_auto_submit();update_mark_list(d);if(check_ml_input()){document.forms.output_form.submit();return false}}return true}function submit_ML(d,c){if(!c){c=event}var a=c.which;if(!a){a=c.keyCode}var b=navigator.userAgent.indexOf("Safari")>0;if(b&&a==3){a=13}if(a==13){return mark_records(getOutputForm())}return true}function check_chem_editions(x,B){var h=document.getElementById("invalid_rgroup_exactmatch_error").value;var D=document.getElementById("incomplete_structure_error").value;var t=document.getElementById("invalid_substructure_error").value;var q=document.getElementById("invalid_exactmatch_error").value;var F=document.getElementById("undefined_rgroup_error").value;var z=document.getElementById("rgroup_unsupported_error").value;var l=true;var L=document.getElementById("editions_not_selected_error").value;var b=document.getElementById("no_ccr_or_ic_error").value;var d=document.getElementById("no_ccr_error").value;var J=document.getElementById("input_invalid_notice").value;var v=document.forms.WOS_StructureSearch_input_form;var u=v;var C=true;var A=0;var E=0;v.action.value=B;var s=false;var G=false;var r=$("#WOS_StructureSearch_input_form").find("input[type=checkbox][value='CCR']");var a=$("#WOS_StructureSearch_input_form").find("input[type=checkbox][value='IC']");if(r.filter(":checked").length>0){s=true}if(a.filter(":checked").length>0){G=true}if(!G&&!s){if(x=="yes"){show_client_error("errorMessageDiv",L)}else{show_client_error("errorMessageDiv",b)}return false}for(i=0;i<v.elements.length;i++){var I=v.elements[i];if(I.name=="granularity"){if(I.value=="substructure"){l=I.checked}}else{if(I.name=="ISRXNQRY"){trim_input(I);if(I.value=="$RXN"){E+=1}else{if(I.value=="A"){A+=1}else{if(I.value=="$MDL"){A+=1}}}}else{if(I.type=="text"||I.type=="textarea"){trim_input(I);if(I.value.length>0){if(I.name.substring(0,5)=="COMP_"){A+=1}else{if(I.name.substring(0,2)=="RX"){E+=1}}}}else{if(I.type=="checkbox"){if(I.name=="RXREFLUX"){if(I.checked==true){E+=1}}}else{if(I.type=="select-one"&&I.name=="RXATMOSPHERE"){if(I.value.length>0){E+=1}}}}}}}if(A==0){if(E==0){show_client_error("errorMessageDiv",J);return false}}if(!s&&E>0){show_client_error("errorMessageDiv",d);return false}var y=document.getElementById("molfile").value;var g=y.substring(0,10).replace(/^\s+|\s+$/g,"");if(y.indexOf("M  V30 BEGIN CTAB")<=-1){if(g.indexOf("$RXN")>-1){var o=y.indexOf("$MOL");if(o<0){show_client_error("errorMessageDiv",D);return false}var K=parseInt(y.substring(o-6,o-4));var n=parseInt(y.substring(o-3,o-1));if(K*n==0&&!l){show_client_error("errorMessageDiv",q);return false}else{var m=y.indexOf("$MOL");for(j=0;j<K+n;j++){var f=y.indexOf("M  END",m);var H=f-m;if(H<80&&l){show_client_error("errorMessageDiv",t);return false}m=y.indexOf("$MOL",f)}}var c=y.indexOf("M  RGP");if(c>0){show_client_error("errorMessageDiv",z);return false}}else{if(g.indexOf("ACL")>-1){var m=y.indexOf("M  END");if(m<80&&l){show_client_error("errorMessageDiv",t);return false}var c=y.indexOf("M  RGP");if(c>0){show_client_error("errorMessageDiv",F);return false}}else{if(g.indexOf("$MDL")>-1){if(!l){show_client_error("errorMessageDiv",q);return false}var w=y.indexOf("$RGP");while(w<y.length&&w>-1){var p=y.indexOf("$END RGP",w);if(p-w<15){show_client_error("errorMessageDiv",F);return false}w=y.indexOf("$RGP",p)}}}}}if(typeof WOKTimespan!=="undefined"){return WOKTimespan.validateDateRange()}return true}function check_plugin(b){var a=plugin_check(b);var c="";if(!a){c="&ISIPlugin=false"}window.location=b+c;return true}function prepare_window_location(a){return go_to_url(a)}function IsAllowedRightClick(b){var a=document.getElementsByName("LinksAreAllowedRightClick");for(i=0;i<a.length;i++){if(b.href.indexOf(a[i].value)>(-1)){if(b.href.indexOf("&cacheurlFromRightClick=no")<=(-1)){b.href=b.href+"&cacheurlFromRightClick=no"}addEvent(b,"click",function(){return RmCacheurlFromRightClick(b)});return true}}return false}function RmCacheurlFromRightClick(b){var a=b.href.replace("&cacheurlFromRightClick=no","");if(a.length!=b.href.length){b.href=a}return true}function addEvent(d,a,b){if(d.addEventListener){d.addEventListener(a,b,false);return true}else{if(d.attachEvent){var c=d.attachEvent("on"+a,b);return c}else{return false}}}function getAutoSubmitFunctionName(form){if(form==null){form=getRecordsForm()}var af;if(form!=null){af=form.getAttribute("auto_submit_function")}if(typeof af=="undefined"){af=autoSubmit}return eval(af)}function isAutoSubmitAllowed(a){if(a){var b=a.getAttribute("autoSubmitAllowed");return(b!="false")}return true}function autoSubmit(){var a=getRecordsForm();if(isAutoSubmitAllowed(a)){postAsyncCheckboxForm(a.id,"auto_submit_url")}return true}function autoSubmitMarkedList(){var b=document.forms.mark_records_form;var a=getRecordsForm();if(b&&a&&!b.CELNoAutoSubmit){if(isAutoSubmitAllowed(a)){return mark_selected_records(a,true)}}return true}function autoSubmitSelected(){var a=getRecordsForm();if(a){setSelectedForForm(a)}return autoSubmit()}function autoSubmitSelectedForCitedRefSearch(){var b=getRecordsForm();var f=b.getAttribute("auto_submit_url");var d=$("#"+b.id).serializeArray();if(!d){return}var c=$("#selectedIdsFastLane_bottom").text();if(typeof c=="undefined"){return}var e=Math.ceil(c.length/10);var a=splitSubstring(c,e);$.each(a,function(g,h){d[d.length]={name:"splittedSelectedIdsPart"+g,value:h}});$.ajax({type:"POST",url:f,data:d,async:false,success:function(g){},error:function(g){}});return true}function splitSubstring(e,a){var b=[];for(var d=0,c=e.length;d<c;d+=a){b.push(e.substring(d,d+a))}return b}function autoSubmitSelectedAndMarked(){return(autoSubmitSelected()&&autoSubmitMarkedList())}function disableAutoSubmit(form){if(!form){form=getRecordsForm()}if(form){form.setAttribute("autoSubmitAllowed","false");if(false){var autoFunction=getAutoSubmitFunctionName(form);eval(autoFunction+" = function() { return true; };")}}return true}function enableAutoSubmit(a){if(!a){a=getRecordsForm()}if(a){a.setAttribute("autoSubmitAllowed","true")}return true}function invokeAutoSubmit(b){if(!b){b=getRecordsForm()}if(b){var a=getAutoSubmitFunctionName(b);if(typeof(a)==="function"){return a()}}return true}function processPageLinks(singleLinkName){if(singleLinkName==undefined){var tester=function(form,link){return false};var form=getRecordsForm();var autoFunction=getAutoSubmitFunctionName(form);if(form){var testerName=form.getAttribute("enable_auto_submit_function");if(testerName!=null&&tester.length>0){tester=eval(testerName)}else{tester=function(form,link){var rc=true;if(link.getAttribute("no_auto_submit")){rc=false}return rc}}}for(var i=0;i<document.links.length;i++){var link=document.links[i];if(link.getAttribute("hasAutoSubmit")){continue}if(navigator.appName.indexOf("Microsoft Internet Explorer")>(-1)){addEvent(link,"contextmenu",CTHandler(link))}if(navigator.appName.indexOf("Netscape")>(-1)){link.setAttribute("oncontextmenu","javascript:return IsAllowedRightClick(this);")}if(link.protocol!="javascript:"&&link.hash==""&&tester(form,link)){var onclickFunc=link.onclick;if(onclickFunc==null){link.onclick=autoFunction}else{var callableOnclickFunc=eval(onclickFunc);link.onclick=function(){var rc=callableOnclickFunc();if(rc){rc=autoFunction()}return rc}}}link.setAttribute("hasAutoSubmit",true)}}else{var singleLink=document.getElementById(singleLinkName);if(singleLink.getAttribute("hasAutoSubmit")){return true}if(navigator.appName.indexOf("Microsoft Internet Explorer")>(-1)){addEvent(singleLink,"contextmenu",CTHandler(link))}if(navigator.appName.indexOf("Netscape")>(-1)){singleLink.setAttribute("oncontextmenu","javascript:return IsAllowedRightClick(this);")}if(link.protocol!="javascript:"&&link.hash==""&&tester(form,singleLink)){var onclickFunc=singleLink.onclick;if(onclickFunc==null){singleLink.onclick=autoFunction}else{var callableOnclickFunc=eval(onclickFunc);singleLink.onclick=function(){var rc=callableOnclickFunc();if(rc){rc=autoFunction()}return rc}}}link.setAttribute("hasAutoSubmit",true)}}function processPageInputButtons(){var tester=function(form,link){return false};var form=getRecordsForm();var autoFunction=getAutoSubmitFunctionName(form);if(form){var testerName=form.getAttribute("enable_auto_submit_function");if(testerName!=null&&tester.length>0){tester=eval(testerName)}else{tester=function(form,object){var rc=true;if(object.getAttribute("no_auto_submit")){rc=false}return rc}}}var fIdx;var i;for(fIdx=0;fIdx<document.forms.length;fIdx++){var thisForm=document.forms[fIdx];for(i=0;i<thisForm.elements.length;i++){var element=thisForm.elements[i];if(element.type=="button"&&tester(form,element)){var onclickFunc=element.onclick;if(onclickFunc==null){element.onclick=autoFunction}else{var callableOnclickFunc=eval(onclickFunc);element.onclick=function(){var rc=callableOnclickFunc();if(rc){rc=autoFunction()}return rc}}}}}}function displayProd(c){var d=document.getElementById("editions_"+c);d.style.display="inline";var b=document.getElementById("editions_more_"+c);b.style.display="none";var a=document.getElementById("editions_hide_"+c);a.style.display="inline"}function undisplayProd(c){var d=document.getElementById("editions_"+c);d.style.display="none";var b=document.getElementById("editions_more_"+c);b.style.display="inline";var a=document.getElementById("editions_hide_"+c);a.style.display="none"}function toggleDisplay(e,a){var c=(e=="show")?"block":"none";var b;try{b=document.getElementById(a);b.style.display=c;b=document.getElementById(a+"_hide");b.style.display=c;b=document.getElementById(a+"_show");b.style.display=(c=="none")?"block":"none"}catch(d){alert("toggleDisplay: failure! -- "+d);return false}}function toggleDisplayInline(e,a){var c=(e=="show")?"inline":"none";var b;try{b=document.getElementById(a);b.style.display=c;b=document.getElementById(a+"_hide");b.style.display=c;b=document.getElementById(a+"_show");b.style.display=(c=="none")?"inline":"none"}catch(d){alert("toggleDisplay: failure! -- "+d);return false}}function CTHandler(a){return function(){return IsAllowedRightClick(a)}}function CLHandlerRmCFRC(a){return function(){return RmCacheurlFromRightClick(a)}}function toggleCollapsedList(n,p,l,e,f,h,a){var d=document.getElementById(n);var c=document.getElementById(p);var g="";if(d.style.display=="none"){var b=document.forms[l];var m=getNamedFormInputs(b,e);for(i=0;i<m.length;i++){if(m[i].id==f){if(m[i].checked==true){var o=getMessageById(m[i].value);if(g!=""){g=g+"; "}g=g+o}}}if(g==""){for(i=0;i<m.length;i++){if(m[i].id==f){if(m[i].type=="checkbox"){m[i].checked=true}var o=getMessageById(m[i].value);if(g!=""){g=g+"; "}g=g+o}}}if(g!=""){if((h!=null)&&(h!="")){g=h+" "+g}if((a!=null)&&(a!="")){g=g+" "+a}}d.innerHTML=g;d.style.display="inline";c.value="display:inline"}else{d.style.display="none";c.value="display: none"}return true}function collapseExpandItem(d,c,g,b){var f=document.getElementById(d);var e=document.getElementById(c);var a=document.getElementById(g);if(f.style.display=="none"){f.style.display="block";e.src=b+"/collapse.gif";e.alt=document.getElementById("collapse_alt").value;e.title=document.getElementById("collapse_title").value;a.value="display: block"}else{f.style.display="none";e.src=b+"/expand.gif";e.alt=document.getElementById("expand_alt").value;e.title=document.getElementById("expand_title").value;a.value="display: none"}}function collapseExpandItemList(f,h,l,a){var b=",";var g=f.split(b);var c=document.getElementById(h);var d=document.getElementById(l);if(c==null||d==null){return false}var e=null;for(i=0;i<g.length;i++){e=document.getElementById(g[i]);if(e==null){continue}if(e.style.display=="none"){e.style.display="";if(i==0){c.src=a+"/collapse.gif";c.alt=document.getElementById("collapse_alt").value;c.title=document.getElementById("collapse_title").value;d.value="display: block"}}else{e.style.display="none";if(i==0){c.src=a+"/expand.gif";c.alt=document.getElementById("expand_alt").value;c.title=document.getElementById("expand_title").value;d.value="display: none"}}}return true}function mark_records_by_range(c,b,e){var d=document.forms.mark_records_form;if(!d){return false}var g=d.elements.mark_from;var f=d.elements.mark_to;if(!(g&&f)){return false}var a=true;if(e){a=check_ml_input()}if(!a){return false}g.value=c;f.value=b;d.submit();return false}function mark_selected_records(d,g){var h=document.forms.mark_records_form;var e=0;var f=false;if(h){var b=h.elements.selectedIds;var a=$("form[name='summary_records_form'] :input[name='search_mode']").val();if(a!=null&&a=="CitedRefList"){e=setSelectedForCitedRefList(b)}else{e=setSelected(b,d)}if(e>0){if(g){f=submitAsyncForm(h,null,handleErrorMessageDataPopUp)}else{h.submit()}}else{if(!g){var c=getMessageById("quickOutputSelectAtLeastOneCheckbox");alert(c)}else{f=true}}}return f}function setSelected(h,f,b,d){if(!d||d.length<1){d=";"}if(!b||b.length<1){b="marked_list_candidates"}var a=-1;var g=(h!=null)?h.form:null;if(g==null){return a}var e=g.getAttribute("records_form_name");if(f==null){f=getRecordsForm(e);if(!f){f=g}}var c=getCheckedFormValues(f,b);if(c.length>0){h.value=c.join(d)}return c.length}function setSelectedForCitedRefList(c){var b="";var a=0;$("#records_chunks :input[name='marked_list_candidates']:checked").each(function(){b+=$(this).val()+";";a++});if(a>0){c.value=b}return a}function getNamedFormInputs(d,a){var b=new Array();if(d!=null&&(typeof d.elements!="undefined")&&d.elements[a]!=null){var c=d.elements[a].type;switch(c){case"hidden":case"checkbox":case"radio":b[0]=d.elements[a];break;default:b=d.elements[a]}}return b}function getCheckedFormInputsOrValues(e,b,g){if(g==null){g=false}var d=new Array();var f=getNamedFormInputs(e,b);if(f.length>0){for(var c=0;c<f.length;++c){if(f[c].checked==true){var a=f[c];d.push(g?a.value:a)}}}return d}function getCheckedFormInputs(b,a){return getCheckedFormInputsOrValues(b,a,false)}function getCheckedFormValues(b,a){return getCheckedFormInputsOrValues(b,a,true)}var RECORDS_MAX=500000;function getRecordsForm(a){var b=null;var c=null;if(a&&a.length>0){b=document.forms[a]}if(!b){if(typeof(jQuery)=="function"){c=$('form[name="records_form"]');if(!c.size()){c=$('form[name="summary_records_form"]');if(!c.size()){c=$('form[name="full_record_form"]');if(!c.size()){return null}}}b=c.get(0)}else{b=document.getElementsByName("records_form");if(b.length===0){b=document.getElementsByName("summary_records_form");if(b.length===0){b=document.getElementsByName("full_record_form");if(b.length===0){return null}}}}}return b}function fullRecordMarkedlistCountCheck(){var f=document.forms.full_record_form;var e=MARKED_LIST_MAX_RECORDS;var d=$("#MLCount");if(!d.length){return true}var b=parseInt(d.first().text().replace(new RegExp("[^0-9]","g"),""));var c=b+1;if(c>e){var a=getMessageById("ml_total_morethan_maxrec_error");show_client_error("errorMessageDiv",a);return false}return true}function mark_records(m,q){if(m!=null){var f=getRecordsForm();if(f==null){f=m}var e=q;if(e==null){var p=getCheckedFormValues(m,"value(record_select_type)");if(p.length>0){e=p[0]}}switch(e){case"allrecord":case"pagerecords":var g=getNamedFormInputs(m,"marked_list_candidates");var c=g.length;if(c<1){g=getNamedFormInputs(f,"marked_list_candidates");c=g.length}if(c>0){var b=g[0].value;var d=g[c-1].value;mark_records_by_range(b,d,false)}if(c==0){var h=getMessageById("quickOutputSelectAtLeastOneCheckbox");alert(h)}break;case"range":var o=m.elements.markFrom;var n=m.elements.markTo;if(o&&n){var a=trimString(o.value);var l=trimString(n.value);mark_records_by_range(a,l,true)}break;case"allrecords":mark_records_by_range(1,RECORDS_MAX,false);break;case"pagerecordsByValue":var p=checkAllByName();if(p<1){break}case"selrecord":case"selrecords":if(!fullRecordMarkedlistCountCheck()){break}default:mark_selected_records(f)}}return false}function trimString(a){if(a.length){a=a.replace(/^\s\s*/,"");var c=/\s/;var b=a.length;while(c.test(a.charAt(--b))){}return a.slice(0,b+1)}return""}function fillTodayDateById(){var b=new Date();var d=new String(b.getMonth()+1);var a=new String(b.getDate());var c=b.getFullYear();if(d.length==1){d="0"+d}if(a.length==1){a="0"+a}var f=c+"-"+d+"-"+a;var e=document.getElementById("since");if(!e||e.value.length<1){e.value=f}}function getMessageById(c){var b;var a=document.getElementById(c);if(!a){return"No message found for "+c}if(a.tagName=="input"){b=a.value}else{b=a.innerHTML}return trimString(b)}function resetOptionsToDefaults(c,a){if(!a||a.length<1){a="fields"}var d=getNamedFormInputs(c,a);for(var b=0;b<d.length;++b){if(d[b].getAttribute("default")=="default"){d[b].checked=true}else{d[b].checked=false}}c.elements["value(select_All)"].checked=false;saveForm(c.id);return false}function checkAllByName(d,a){if(!d){d=getRecordsForm()}if(!a||a.length<1){a="marked_list_candidates"}var c=0;var e=getNamedFormInputs(d,a);for(var b=0;b<e.length;++b){++c;e[b].checked=true}return c}function checkOrUncheckAllByName(d,a){if(!d){d=getRecordsForm()}if(!a||a.length<1){a="marked_list_candidates"}var c=0;var f=d.elements.select_All.checked;var e=getNamedFormInputs(d,a);for(var b=0;b<e.length;++b){++c;e[b].checked=f}return c}function toggleCheckBoxesByName(c,a,g){var e=document.forms[c];if(!e){e=getRecordsForm()}if(!a||a.length<1){a="marked_list_candidates"}var d=0;var h=e.elements[g].checked;var f=getNamedFormInputs(e,a);for(var b=0;b<f.length;++b){++d;f[b].checked=h}saveForm(c);return d}function toggleCheckBoxesByKeypress(c,a,g){var e=document.forms[c];if(!e){e=getRecordsForm()}if(!a||a.length<1){a="marked_list_candidates"}var d=0;var h=e.elements[g].checked;if(h){h=false}else{h=true}e.elements[g].checked=h;var f=getNamedFormInputs(e,a);for(var b=0;b<f.length;++b){++d;f[b].checked=h}saveForm(c);return d}function confirmationMessage(b){var a=null;if(b){a=getMessageById(b)}if(a&&a.length>0){return confirm(a)}return false}function changeFormActionForSaveToRID(m,b,d){var f=getOutputForm();if(m&&f){var h=m.form;if(h){var o=h.getAttribute("input_form_name");var c=document.forms[o];if(c){h=c}}var l=setFilters(h,f);f.elements.format.value=m.name;var g=getRecordsForm();if(g==null){g=h}var e="";var n=getCheckedFormValues(h,"value(record_select_type)");if(n.length>0){e=n[0]}if(e=="range"){var a=true;a=check_qo_input();if(!a){return false}}}if(f&&b){f.action=b+"&rurl="+encodeURIComponent(d)}return true}function certifyPublicationsForRID(){var a=confirmationMessage("quickOutputCertifyPublicationsForRID");return a}function outputRIDRecords(c,b,a){var d=getOutputForm();if(d&&d.colName.value=="DIIDW"){d.mode.value="outputServiceForSaveToRID"}if(b&&a){b=b+"&rurl="+encodeURIComponent(a)}output_records(c,d,b,null,certifyPublicationsForRID);return false}function output_records_by_range(l,b,f,c,m){var d=document.forms.output_form;if(!d){return false}var g=d.elements.mark_from;var h=d.elements.mark_to;if(!(g&&h)){return false}var a=true;if(f){a=check_qo_input()}if(!a){return false}var e=true;if(m){e=m(d)}if(e==true){if(d&&c){d.action=c}g.value=l;h.value=b;if(invokeAutoSubmit()){d.submit()}}return false}function output_selected_records(e,h,d,a){if(h==null){h=document.forms.output_form}var f=0;if(h){var b=h.elements.selectedIds;f=setSelected(b,e);if(f>0){var g=true;if(a){g=a(h);$("select[name='emailStyle']").select2({dropdownAutoWidth:false,minimumResultsForSearch:99})}if(g==true){if(h&&d){h.action=d}disable_auto_submit();h.submit()}}else{var c=getMessageById("quickOutputSelectAtLeastOneCheckbox");alert(c)}}return false}function FIELDS(){return"fields"}function setFilters(f,d,g){var n=false;if(f==null){return n}if(g==null){g=true}if(d==null){d=getOutputForm()}var b=d.elements.filters;if(b==null){return n}var a=setSelected(b,f,"fields"," ");if(a==0&&g){var e=getNamedFormInputs(f,"fields");if(e.length==0){e=getCheckedFormInputs(f,"fields_selection");if(e!=null&&e.length!=0){n=true;var h=e[0].value;var l=e[0].id+"_option";var m=getCheckedFormInputs(f,l);if(m){for(var c=0;c<m.length;++c){h+=" "+m[c].value}}b.value=h}}}else{n=true}return n}function getOutputForm(a){var b=null;if(a&&a.length>0){b=document.forms[a]}if(!b){b=document.forms.output_form;if(!b){b=getRecordsForm()}}return b}var MAX_OUTPUT_RECORDS=500;function prepareAllRecordsOnPageForOutput(a){var b;var c=new Array();for(b=0;b<a.length;b++){c.push(a[b].value)}if(document.forms.output_form.elements.product.value!="DIIDW"){document.forms.output_form.elements.selectedIds.value=c.join(";")}if(document.forms.output_form.elements.totalMarked){document.forms.output_form.elements.totalMarked.value=a.length}if(document.forms.summary_records_form.elements.product.value!="DIIDW"){document.forms.summary_records_form.elements.selectedIds.value=c.join(";")}if(document.forms.summary_records_form.elements.totalMarked){document.forms.summary_records_form.elements.totalMarked.value=a.length}}function output_records(t,d,m,s,z){if(d==null){d=getOutputForm()}if(t&&d){var u=t.form;if(u){var A=u.getAttribute("input_form_name");var b=document.forms[A];if(b){u=b}}var a=setFilters(u,d);d.elements.format.value=t.name;var D=getRecordsForm();if(D==null){D=u}var v="";var o=getCheckedFormValues(u,"value(record_select_type)");if(o.length>0){v=o[0]}switch(v){case"allrecord":case"pagerecords":var r="marked_list_candidates";var e=getNamedFormInputs(u,r);var g=e.length;if(g<1){e=getNamedFormInputs(D,r);g=e.length;prepareAllRecordsOnPageForOutput(e)}if(g>0){var l=e[0].value;var f=e[g-1].value;prepareAllRecordsOnPageForOutput(e);output_records_by_range(l,f,false,m,z)}if(g==0){var x=getMessageById("quickOutputSelectAtLeastOneCheckbox");alert(x);B=false}break;case"range":var y=u.elements.markFrom;var c=u.elements.markTo;var n;var p;var w=EIDS_MAX_RECORDS;if(y&&c){n=trimString(y.value);p=trimString(c.value);var C=parseInt(p)-parseInt(n)+1;if((C>w)&&(s=="EIDS")){allrecs_morethan_maxrec_eids_notice=getMessageById("ml_eids_morethan_maxrec_output_notice");alert(allrecs_morethan_maxrec_eids_notice)}else{output_records_by_range(n,p,true,m,z)}}break;case"allrecords":var q=CURRENT_NUM_MARKED_LIST_RECORDS;var h=QUICK_OUTPUT_MAX_RECORDS;var w=EIDS_MAX_RECORDS;var B=true;if(q>h){allrecs_morethan_maxrec_output_notice=getMessageById("ml_allrecs_morethan_maxrec_output_notice");alert(allrecs_morethan_maxrec_output_notice);B=true}if((q>w)&&(s=="EIDS")){allrecs_morethan_maxrec_eids_notice=getMessageById("ml_eids_morethan_maxrec_output_notice");alert(allrecs_morethan_maxrec_eids_notice);B=false}if(B){if(q>MAX_OUTPUT_RECORDS){output_records_by_range(1,MAX_OUTPUT_RECORDS,false,m,z)}else{output_records_by_range(1,q,false,m,z)}}break;case"pagerecordsByValue":var o=checkAllByName();if(o<1){break}case"selrecord":case"selrecords":default:output_selected_records(D,d,m,z)}}return false}function quick_summary_output(a){if(document.output_form.fields_selection[0].checked==true){document.output_form.fullrec_fields_option.checked=false}else{if(document.output_form.fields_selection[1].checked==true){document.output_form.bib_fields_option.checked=false}}}function quick_fullrecord_output(a){if(document.records_form.fields_selection[0].checked==true){document.records_form.fullrec_fields_option.checked=false}else{if(document.records_form.fields_selection[1].checked==true){document.records_form.bib_fields_option.checked=false}}}function isEnterEvent(c){if(!c){c=event}var a=c.which;if(!a){a=c.keyCode}var b=navigator.userAgent.indexOf("Safari")>0;if(b&&a==3){a=13}return(a==13)}function setSelectedForForm(b){var c=true;if(b){var a=b.elements.selectedIds;var d="isickref";var e=setSelected(a,b,d)}return true}function saveFormPreferences(a){if(a){return submitAsyncForm(a,"savePreferencesUrl")}return false}function saveMarkedListPreferences(b){var c=false;if(!b){b=getOutputForm()}if(setFilters(b,null,false)){c=saveFormPreferences(b);if(c="true"){var a=document.getElementById("savedMLPreferences").style.display="inline"}}return c}function saveOneSettingPreference(m,l){var c=getRecordsForm(m);var b=c.getAttribute("savePreferencesUrl");var p=document.getElementById(l);var n=document.getElementById(l).cloneNode(true);n.value=p.value;var g=c.cloneNode(false);g.setAttribute("savePreferencesUrl",b);g.appendChild(n);var d=c.elements.SID.cloneNode(true);g.appendChild(d);var h=c.elements.product.cloneNode(true);g.appendChild(h);var o=function(e){document.write(e)};var a=true;try{dojo.io.bind({url:b,encoding:"utf8",sync:true,formNode:g,mimetype:"text/plain",load:function(q,r,e){},mimetype:"text/plain"})}catch(f){return false}return true}function setOtherPageSelectedRecCount(g,a,c){var f;var b=document.getElementById("selectedRecs");if(b){if(g==null){f=0}else{if(!a){a="isickref"}var e=getRecordsForm(c);var d=getCheckedFormValues(e,a);f=g-d.length}b.value=f}return f}function getSearchInputForm(a){var c=null;if(a&&a.length>0){c=document.forms[a]}if(!c){if(jQuery){var b=$(".searchInputForm");if(b){c=b[0]}}if(!c){c=document.forms[0]}}return c}function numberMatch(){var b=new RegExp("\\w-\\d{4}-\\d{4}");var a=document.getElementById("value(input3)").value;document.getElementById("errorMessage").style.display="none";document.getElementById("author.search.error.fullName").style.display="none";document.getElementById("author.search.invalidQuery").style.display="none";if(a==null||a.length==0){if(document.getElementById("errorMessage").style.display=="none"){document.getElementById("errorMessage").style.display="block";document.getElementById("author.search.reasearchId.validation").style.display="block"}}else{if(a.match(b)){document.getElementById("RID").value=a;document.getElementById("WOS_AuthorSearch_input_form").submit()}else{if(document.getElementById("errorMessage").style.display=="none"){document.getElementById("errorMessage").style.display="block";document.getElementById("author.search.reasearchIdFormat").style.display="block"}}}}function validateAuthorName(){var a=null;var h=new RegExp("[@%&*#!$\\d]");var g=new RegExp("[@%&#!\\d]");var f=new RegExp("\\*[a-zA-Z]?");var d=new RegExp("\\$[a-zA-Z]?");var b=document.getElementById("value(input1)").value;var c=document.getElementById("value(input2)").value;var e=document.getElementById("exactMatch").checked;document.getElementById("errorMessage").style.display="none";document.getElementById("author.search.reasearchIdFormat").style.display="none";document.getElementById("author.search.reasearchId.validation").style.display="none";if(b==null||b.length==0){document.getElementById("author.search.invalidQuery").style.display="none";document.getElementById("errorMessage").style.display="block";document.getElementById("author.search.error.fullName").style.display="block";checkForErrorSpans()}else{if(c==null||c.length==0||c==" "){document.getElementById("author.search.invalidQuery").style.display="none";document.getElementById("errorMessage").style.display="block";document.getElementById("author.search.error.fullName").style.display="block";checkForErrorSpans()}else{if(c.match(h)){document.getElementById("author.search.error.fullName").style.display="none";document.getElementById("errorMessage").style.display="block";document.getElementById("author.search.invalidQuery").style.display="block";checkForErrorSpans()}else{if(b.match(g)){document.getElementById("author.search.error.fullName").style.display="none";document.getElementById("errorMessage").style.display="block";document.getElementById("author.search.invalidQuery").style.display="block";checkForErrorSpans()}else{if(b.match(f)&&e==true){document.getElementById("author.search.error.fullName").style.display="none";document.getElementById("errorMessage").style.display="block";document.getElementById("author.search.invalidQuery").style.display="block";checkForErrorSpans()}else{if(b.match(d)&&e==true){document.getElementById("author.search.error.fullName").style.display="none";document.getElementById("errorMessage").style.display="block";document.getElementById("author.search.invalidQuery").style.display="block";checkForErrorSpans()}else{a=b+" "+c;if(b.toUpperCase()=="OR"||b.toUpperCase()=="AND"||b.toUpperCase()=="NOT"||b.toUpperCase()=="SAME"){a='"'+a+'"'}document.getElementById("authorName").value=a;document.getElementById("WOS_AuthorSearch_input_form").submit();checkForErrorSpans()}}}}}}}function clearAuthorSearchFields(a){document.getElementById("value(input1)").value="";document.getElementById("value(input2)").value="";checkForErrorSpans();saveForm("WOS_AuthorSearch_input_form")}function checkForErrorSpans(){if(document.getElementById("searchErrorMessage")!=null&&document.getElementById("searchErrorMessage").style.display==""){document.getElementById("searchErrorMessage").style.display="none"}else{if(document.getElementById("searchErrorMessageDiv")!=null&&document.getElementById("searchErrorMessageDiv").style.display==""){document.getElementById("searchErrorMessageDiv").style.display="none"}else{if(document.getElementById("noRecordsDiv")!=null&&document.getElementById("noRecordsDiv").style.display==""){document.getElementById("noRecordsDiv").style.display="none"}else{}}}}function check_author_variant_inputs(c){var b;var f=false;var d=document.getElementsByName("radiobutton");if(d!=null){for(b=0;b<d.length;b++){var e=d[b];if(e.checked){f=true;break}}}if(!f){var a=document.getElementById("refineSelectAtLeastOneRadioButton").value;alert(a)}return f}function setAuthorVariantName(b){var c=b.length;if(typeof c=="undefined"){document.forms.author_variant_more_form.authorName.value=b.value;return b.value}for(var a=0;a<c;a++){if(b[a].checked){document.forms.author_variant_more_form.authorName.value=b[a].value;return b[a].value}}return""}function authorEnterFunction(a){if(a&&a.keyCode==13){validateAuthorName()}else{return false}}function toggleInputDisplay(b,a,e){var d=document.getElementById(b);var c=document.getElementById(a);if(e=="between"){d.style.display="inline";c.style.display="inline"}else{d.value="";d.style.display="none";c.style.display="none"}}function isNumberKey(b){var a=(b.which)?b.which:event.keyCode;if(a>31&&(a<58&&a>44&&a!=47)){return true}else{if(a==8){return true}}return false}function check_email(d){var a=$("#"+d.id+' input[name="emailAddress"]').val();var c=/^([a-zA-Z0-9])+([\.a-zA-Z0-9_-])*@([a-zA-Z0-9_-])+(\.[a-zA-Z0-9_-]+)+$/;var f=new String(a);var b=f.split(";");if(b.length==1){b=f.split(",")}var g=document.getElementById("emailAddress_error");g.style.display="none";for(i=0;i<b.length;i++){b[i]=b[i].replace(/\s/g,"");if(!b[i].match(c)||(b[i].length==0&&i==0)){g.style.display="block";return false}}var e=b.join(",");d.emailAddress.value=e;return true}function swapCheckboxLabel(e,d,a,c){var b=document.getElementById(d);if(!e.checked){b.innerHTML=a}else{b.innerHTML=c}}function updateResultOptions(b,d){var e="value("+b+")";var c=$(".autoSaveForm");var a=$(c).find('input[name="'+e+'"]');if(a){a[0].value=d;saveForm(c.attr("name"))}return true}function updateResultContentOption(d){if(d){var a=d.selectedIndex;var b=d.options[a];var c=b.getAttribute("id");if(!c){c=b.value}updateResultOptions("contentType",c)}}function prepareSQCDropDownMenu(){var a=$("#sqcDropDownMenuTitleLink").width();$("#sqcDropDownMenuTitleLink").hover(function(){$(this).addClass("sqcDropDownMenuLink");$("#sqcDropDownMenuTitleLink #sqcMenuArrow").hide();$("#sqcDropDownMenuTitleLink #sqcMenuArrowHover").show();var b=$("#sqcDropDownMenuItems").show().position({my:"left top",at:"left bottom",of:this});$(document).one("click",function(){b.hide()});return false},function(b){$(this).removeClass("sqcDropDownMenuLink");$("#sqcDropDownMenuTitleLink #sqcMenuArrowHover").hide();$("#sqcDropDownMenuTitleLink #sqcMenuArrow").show();if(b.pageX<$("#sqcDropDownMenuItems").position().left||b.pageX>$("#sqcDropDownMenuItems").position().left+$("#sqcDropDownMenuItems").width()||b.pageY<$("#sqcDropDownMenuTitleLink").position().top||b.pageY>$("#sqcDropDownMenuItems").position().top+$("#sqcDropDownMenuItems").height()){$("#sqcDropDownMenuItems").hide()}return false});$("#sqcDropDownMenuTitleLink").focus(function(){$(this).addClass("sqcDropDownMenuLink");$("#sqcDropDownMenuTitleLink #sqcMenuArrow").hide();$("#sqcDropDownMenuTitleLink #sqcMenuArrowHover").show();var b=$("#sqcDropDownMenuItems").show().position({my:"left top",at:"left bottom",of:this});$(document).one("click",function(){b.hide()});return false}).focusout(function(b){$(this).removeClass("sqcDropDownMenuLink");$("#sqcDropDownMenuTitleLink #sqcMenuArrowHover").hide();$("#sqcDropDownMenuTitleLink #sqcMenuArrow").show();$(".sqcDropDownMenuItem").first().find("a").focus();return false});$(".sqcDropDownMenuItem").focus(function(){$(this).find("a").addClass("sqcDropDownMenuItemHover")}).focusout(function(c){$(this).find("a").removeClass("sqcDropDownMenuItemHover");var b=$(this).next();if(b.attr("class")==$(this).attr("class")){b.find("a").focus()}else{$("#sqcDropDownMenuItems").hide()}});$("#sqcDropDownMenuItems").menu().width(a).mouseleave(function(){$("#sqcDropDownMenuItems").hide()});$("#sqcDropDownMenuItems li a").click(function(){var b=$(this).attr("href");$(location).attr("href",b)})}function hideLinksDropdown(d){var a=$(d.target);if(!d.target){a=d.srcElement}$(".popup-full-text").hide();if(a.is(".button-ft")){if(a.is(".button-active")){a.removeClass("button-active")}else{a.addClass("button-active");var b=a.attr("name");var c=$("#"+b+"_menu");c.show()}}else{$(".button-ft").removeClass("button-active")}}function initHideShow(e,a){if(e){var c="."+e;var b=(a)?(c+"On"):(c+"Off");var d=(a)?(c+"Off"):(c+"On");$(d).hide();$(b).show()}}function toggleOnOff(b){if(b){var a="."+b;$(a+"On").toggle();$(a+"Off").toggle()}}var globalDialog=null;function open_journal_overlay(d,a){if(d&&a){var c={autoOpen:false,closeOnEscape:true,modal:false,closeText:"close",resizable:false,close:function(){$(this).dialog("destroy");globalDialog=null},dialogClass:"ui-dialog-quickoutput journal-overlay",position:{of:$("#"+a),my:"left top",at:"left bottom"}};if(globalDialog!=null){$(globalDialog).dialog("close");globalDialog=null}var b=$("#"+d).dialog(c);b.dialog("open");globalDialog=b;return true}else{return false}}function open_esi_badge_overlay(d,a){if(d&&a){var c={autoOpen:false,closeOnEscape:true,modal:false,resizable:false,draggable:false,closeText:"close",close:function(){$(this).dialog("destroy");globalDialog=null},dialogClass:"ui-dialog-quickoutput journal-overlay esi-badge-overlay",position:{of:$("#"+a),my:"right top",at:"left bottom"}};if(globalDialog!=null){$(globalDialog).dialog("close");globalDialog=null}var b=$("#"+d).dialog(c);b.dialog("open");globalDialog=b;return true}else{return false}}function open_ra_entery_overlay(d,a,f){var e="ui-dialog-quickoutput journal-overlay esi-badge-overlay";if(f){e+=" "+f;console.log("Specified.")}if(d&&a){var c={autoOpen:false,closeOnEscape:true,modal:false,resizable:false,draggable:false,closeText:"close",close:function(){$(this).dialog("destroy");globalDialog=null},dialogClass:e,position:{of:$("#"+a),my:"left top",at:"right bottom"}};if(globalDialog!=null){$(globalDialog).dialog("close");globalDialog=null}var b=$("#"+d).dialog(c);b.dialog("open");globalDialog=b;return true}else{return false}}function open_early_access_overlay(d,a){console.log(d);if(d&&a){var c={autoOpen:false,closeOnEscape:true,modal:false,resizable:false,draggable:false,closeText:"close",close:function(){$(this).dialog("destroy");globalDialog=null},dialogClass:"ui-dialog-quickoutput journal-overlay esi-badge-overlay",position:{of:$("#"+a),my:"left bottom",at:"right top"}};if(globalDialog!=null){$(globalDialog).dialog("close");globalDialog=null}var b=$("#"+d).dialog(c);b.dialog("open");globalDialog=b;return true}else{return false}}function close_journal_overlay(b,a){try{$("#"+a).dialog("close");return true}catch(c){$(b).parents("#"+a).dialog("close");return false}}function close_SML_overlay(b,a){try{$(b).closest(".ui-dialog-content").dialog("close");return true}catch(c){$(b).parents("#"+a).dialog("close");return false}}function close_SML_error_overlay(b,a){try{$(b).dialog("close");return true}catch(c){$(b).parents("#"+a).dialog("close");return false}}function save_markedlist(a){if(isMLFormValid()==true){reload=false;if(!isMLReachLimit()){if(isListNameDuplicate(a)){$("#saveToMLDialog").dialog("close");var b=$("#smlDuplicateMessage").val();$("#smlDuplicateDialogText").text("'"+$("#MarkedListName").val()+"' "+b);$("#saveToMLDuplicateDialog").dialog("open")}else{savedLists(a)}}else{$("#saveToMLDialog").dialog("close");$("#saveToMLLimitDialog").dialog("open")}}}function isMLReachLimit(){var b=$("#maxMarkedList").val();var a=$("#currentMLCount").val();if(b==a){return true}return false}function isListNameDuplicate(a){a=a+"&action=saveUniqueList&product=UA";var b=false;$.ajax({type:"POST",url:a,data:{listName:$("#MarkedListName").val()},async:false,success:function(c){if(c=="DUPLICATE"){b=true}},error:function(c){$("#saveToMLDialog").dialog("close");$("#saveToMLErrorDialog").dialog("open")}});return b}function savedLists(a){a=a+"&action=saveList&product=UA";var b={listName:$("#MarkedListName").val()};if($("#listDescription").val().length!=0){b.desc=$("#listDescription").val()}$.ajax({type:"POST",url:a,data:b,async:false,success:function(c){$("#saveToMLDialog").dialog("close");$("#saveToMLDuplicateDialog").dialog("close");if(c=="OK"){$("#saveToMLDoneDialog").dialog("open")}else{$("#saveToMLErrorDialog").dialog("open")}},error:function(c){$("#saveToMLDialog").dialog("close");$("#saveToMLErrorDialog").dialog("open")}})}function isMLFormValid(){var a=/[<>]/;if($("#MarkedListName").val().length==0){$("#SMLnameEmpty").css("visibility","visible");return false}if(a.test($("#MarkedListName").val())){alert("greater than sign or less than sign cannot be used in list name");return false}return true}function MLDetection(){$("#mlFirstUse").dialog("open");$("#hasMLPopUpShown").val(true);saveForm("UA_options_input_form")}function openMarkedListOverlay(c,b,a){$("#replaceButton").click(function(){submitAndRetrieveSml(a,"&replace=true")});if(b>MARKED_LIST_MAX_RECORDS){$(".replaceAddSpan").css("display","none");$("#replaceAddButton").html("");$(".replaceRecordsOrAdd").html("")}else{$("#replaceAddButton").click(function(){submitAndRetrieveSml(a,"&replace=false")});$(".replaceRecords").html("")}$("#mlOpen").dialog("open")}function browserDetection(){var b=$("#hasBrowserPopUpShown").val();if(navigator.appName.indexOf("Internet Explorer")>-1){if(navigator.appVersion.indexOf("MSIE 9")>-1||navigator.appVersion.indexOf("MSIE 8")>-1){if(location.protocol!=="https:"){var r="https://";var s=$("#applicationHostString").html();if(s.length==0){s=location.host}var t=location.pathname;var m=location.search;var n=r+s+t+m;location.replace(n)}}}if(b!="true"){var q=navigator.appVersion;var g=navigator.userAgent;var l=navigator.appName;var o=""+parseFloat(navigator.appVersion);var e=parseInt(navigator.appVersion,10);var p,c,d;var a,h;var f;if((c=g.indexOf("Opera"))!=-1){l="Opera";o=g.substring(c+6);if((c=g.indexOf("Version"))!=-1){o=g.substring(c+8)}}else{if((c=g.indexOf("MSIE"))!=-1){l="Internet Explorer";o=g.substring(c+5)}else{if((c=g.indexOf("Chrome"))!=-1){l="Chrome";o=g.substring(c+7)}else{if((c=g.indexOf("Safari"))!=-1){l="Safari";o=g.substring(c+7);if((c=g.indexOf("Version"))!=-1){o=g.substring(c+8)}}else{if((c=g.indexOf("Firefox"))!=-1){l="Firefox";o=g.substring(c+8)}else{if((p=g.lastIndexOf(" ")+1)<(c=g.lastIndexOf("/"))){l=g.substring(p,c);o=g.substring(c+1);if(l.toLowerCase()==l.toUpperCase()){l=navigator.appName}}}}}}}e=parseInt(""+o,10);if(isNaN(e)){o=""+parseFloat(navigator.appVersion);e=parseInt(navigator.appVersion,10)}if(/Windows/.test(g)){a="Windows";if(/Windows NT 5.1|Windows XP/.test(g)){h="XP"}else{if(/Windows NT 5.2/.test(g)){h="Server 2003"}else{if(/Windows NT 6.0/.test(g)){h="Vista"}else{if(/Windows NT 6.1/.test(g)){h="7"}else{if(/Windows NT 6.2/.test(g)){h="8"}}}}}}else{if(/Mac_PowerPC|Macintosh/.test(g)){a="Mac"}else{if(/Linux|X11/.test(g)){a="Linux"}else{if(/SunOS/.test(g)){a="SunOS"}else{a="other"}}}}if(l==="Firefox"){if(e<=19){f=$("#browserMessage").val()}}else{if(l==="Internet Explorer"){if(e<=7){f=$("#browserMessageIE").val()}}else{if(l==="Chrome"){if(e<=24){f=$("#browserMessage").val()}}else{if(l==="Safari"){if(e<=5){f=$("#browserMessage").val()}}}}}if(f!=null&&!(/\?\?\?/.test(f))){f=f.replace("BROWSERNAME",l);f=f.replace("MAJORVERSION",e);f=f.replace("OSVERSION",a);f=f.replace("WINVERSION",h);f=f.replace("+","\n");alert(f)}b="true";$("#hasBrowserPopUpShown").val(b);saveForm("UA_options_input_form")}}var Email={isValid:function(a){var b=/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;return b.test(a)}};function expandCollapseRecord(d,c,g,e,f,b){var e="#"+e;var d="#"+d;var a="#"+f+" #"+b;if($(e).is(":visible")){$(d).text(c);$(e).hide(500);if(f&&b&&f!=""&&b!=""){$(a).val("false");saveForm(f)}}else{$(d).text(g);$(e).show(500);if(f&&b&&f!=""&&b!=""){$(a).val("true");saveForm(f)}}}addEvent(window,"load",function(){processPageLinks()});function proxyAddToPubList_submit(){var c=document.forms.ProxyClaimForm;var b=document.getElementById("no.radio.button.selected");var e=getNamedFormInputs(c,"rid_steamID");var a=e.length;if(typeof a=="undefined"){a=1}var d=false;for(i=0;i<a;i++){if(e[i].checked==true){d=true}}if(d){c.submit}else{alert(b.value);return false}return true}function paintGenericESILinkInOverlay(c){var b=$("#HS_ESILink").attr("onclick");var a="";if($("#"+c).length!=0){if(c.indexOf("esi_hp_overlay_generic_")!=-1){a=b.replace("OutboundService.do?","OutboundService.do?esitype=esi_hot&");$("#"+c).attr("onclick",a)}else{a=b.replace("OutboundService.do?","OutboundService.do?esitype=esi_highlycited&");$("#"+c).attr("onclick",a)}}}function formatESIBadgeLink(a){if($("#"+a).length!=0){$("#"+a).hover(function(){$("#"+a).css("cursor","pointer");$("#"+a).css("text-decoration","underline")},function(){$("#"+a).css("text-decoration","none")})}}function toggleSearchTypes(b,c,a,d){$(".hidable").toggleClass("searchtype-sub-nav__list-item-hidden");$("#searchToggle").toggleClass("fa-minus");$("#searchToggle").toggleClass("fa-plus");$("#searchToggleText").toggleText(b,c,a,d)}jQuery.fn.extend({toggleText:function(b,c,a,e){var d=this;if(d.text()!=a&&d.text()!=b){d.text(a);$("#searchtype-toggle-btn").prop("title",e)}else{if(d.text()==a){d.text(b);$("#searchtype-toggle-btn").prop("title",c)}else{if(d.text()==b){d.text(a);$("#searchtype-toggle-btn").prop("title",e)}}}return this}});function getFileName(){var d=document.getElementById("ssslocalFile");var b=0;if(d.files.length>0){for(var c=0;c<=d.files.length-1;c++){var a=d.files.item(c).size;$("#ssslocalfilelabel").text(d.files.item(c).name)}}}function open_ft_with_logging(o,g,n,e,h){open_location(g,"full_text");if("full_text"!==h){return}var p="coll_id_"+o;var a="";a=$("#"+p).attr("value");if(a=="SCIELO"){return open_ft_with_logging_scielo(o,g,n,e,h)}else{var b="for_fulltext_logging_"+o+"_1";var f=document.getElementById(b);if(f){var d=$("#"+b).attr("ut");var l=$("#"+b).attr("publisher_id");var c=$("#"+b).attr("journal_id");if(e){var m=e+"&oaType=full_text&publisherId="+l+"&journalId="+c+"&ut="+d;$.ajax({type:"GET",url:m,data:null,async:true,success:function(q){},error:function(q){}})}}}}function open_ft_with_logging_scielo(n,e,m,d,g){open_location(e,"full_text");var a="for_scielo_fulltext_logging_"+n;if("full_text"!==g){return}var f=document.getElementById(a);if(f){var c=$("#"+a).attr("ut");var h=$("#"+a).attr("publisher_id");var b=$("#"+a).attr("journal_id");if(d){var l=d+"&oaType=gold&publisherId="+h+"&journalId="+b+"&ut="+c;$.ajax({type:"GET",url:l,data:null,async:true,success:function(o){},error:function(o){}})}}}function highlightSortedColumn(a){$(document).ready(function(){if(jQuery){var c=$("[id^="+a+"]").parents(".citedSearchTableHead");var b="#C1BCBB";c.css("background-color",b)}})}$(function(){if(typeof String.prototype.endsWith!="function"){String.prototype.endsWith=function(g){return this.match(new RegExp(g+"$"))}}var e=$("#selected_sortBy").first().text();var c=e.split(";",1);var f=c[0];if(f.endsWith(".en")==true){var a=f.slice(0,f.lastIndexOf(".en"))}if(f=="AU.A"||f=="AU.D"||f=="SO.A"||f=="SO.D"){var d=f+".en"}var b;b=$('li[name="sort"]').filter(function(){sort_btn_values=$(this).attr("id");var g=sort_btn_values.split(";",1);return $(this).attr("id")==e||g[0]==f||g[0]==a||g[0]==d}).addClass("sorttype-sub-nav_list-item-active")});$(document).ready(function(){$(".tooltiptrigger").on("mouseover focus",function(){$(".tooltip").attr("aria-hidden","false")});$(".tooltiptrigger").on("mouseleave focusout",function(){$(".tooltip").attr("aria-hidden","true")});$(".tooltiptrigger").keydown(function(a){if(a.which==27){$(".tooltip").attr("aria-hidden","true");a.preventDefault();return false}})});function setRaSelected(b){$(".ra-select").find("button[selected]").removeAttr("selected");$(b.currentTarget).attr("selected",true);var a=$(".ra-select").find("button[selected]").val();$("#field").val(a);$("#wos-busy-indicator").css("visibility","visible");$("#analyzeForm").submit()}function hideBusyIndicator(){$("#wos-busy-indicator").css("visibility","hidden");var b=$("body").attr("data-querystring");$("#WosQueryString").html(b);var a=$("body").attr("data-historystring");if(a){$("#WosHistoryString").html(a)}var c=$("body").attr("data-noticenorecords");$("#noticeNorecordsMsg").html(c)}function ValidateUpdateRecsInRA(d,b,h,e,g){var a=document.getElementById("refineMaxRows").value;var l=document.getElementById("refineThreshold").value;var c=document.getElementById("refineSortType").value;if(g=="DIIDW"){var f=document.getElementById("refineMaxRecs").value;if(d!=c||b!=l||h!=a||e!=f){document.getElementById("analyzeForm").submit()}}else{if(d!=c||b!=l||h!=a){document.getElementById("analyzeForm").submit()}}}function submitAnalyzeForEnterKeyRA(c,a){var b=document.getElementById("refineThreshold").value;if(!c){var c=window.event}if(c.keyCode==13){if(a!=b){$("#analyzeForm").submit()}}};